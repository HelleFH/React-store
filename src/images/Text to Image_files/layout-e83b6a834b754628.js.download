(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3185],{58925:function(e,t,n){Promise.resolve().then(n.t.bind(n,84080,23)),Promise.resolve().then(n.t.bind(n,74014,23)),Promise.resolve().then(n.t.bind(n,31391,23)),Promise.resolve().then(n.t.bind(n,19593,23)),Promise.resolve().then(n.t.bind(n,19837,23)),Promise.resolve().then(n.t.bind(n,52339,23)),Promise.resolve().then(n.bind(n,2300)),Promise.resolve().then(n.t.bind(n,53054,23)),Promise.resolve().then(n.bind(n,13684)),Promise.resolve().then(n.bind(n,19651)),Promise.resolve().then(n.t.bind(n,31183,23))},2300:function(e,t,n){"use strict";n.d(t,{GlobalModals:function(){return ea}});var r=n(57437),i=n(16463),l=n(91606),s=n(2265),a=n(81980),o=n.n(a),c=n(76015),d=n(81149),u=n(95401),m=n(82442),p=n(78958),g=n(8792);let f=e=>{let{title:t,code:n,description:i,icon:l}=e,{copy:s}=(0,p.m)();return(0,r.jsxs)("div",{className:"flex gap-3 rounded-2xl bg-neutral-20 p-3 dark:bg-neutral-0/5",children:[(0,r.jsx)("div",{className:"h-[34px] min-h-[34px] w-[34px] min-w-[34px] overflow-hidden rounded-xl",children:(0,r.jsx)("img",{src:l,alt:"icon",className:"h-full w-full object-cover"})}),(0,r.jsxs)("div",{className:"flex w-full flex-col gap-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{className:"text-sm text-neutral-900 dark:text-neutral-0",children:t}),(0,r.jsxs)("div",{className:"flex items-center gap-1 rounded-md bg-neutral-40 px-1.5 py-0.5 dark:bg-neutral-700",children:[(0,r.jsx)("div",{className:"text-xs font-medium text-neutral-900 dark:text-neutral-0",children:n}),(0,r.jsx)(u.WithGenericTooltip,{content:"Copy",children:(0,r.jsx)("button",{type:"button",onClick:()=>{m.Am.success("Copied to clipboard"),s(n)},"aria-label":"Tooltip Button",children:(0,r.jsx)(g.TI,{className:"h-[14px] w-[14px] stroke-[1.75] text-neutral-900 dark:text-neutral-0"})})})]})]}),(0,r.jsx)("div",{className:"text-sm text-neutral-600 dark:text-neutral-40",children:i})]})]})},x=e=>{let{title:t,cta:n,sub_content:i,description:l,redirectHandler:s}=e;return(0,r.jsxs)("div",{className:"flex w-full max-w-[401px] flex-col gap-[18px]",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-2 text-center",children:[(0,r.jsx)("h3",{className:"text-[32px] font-medium leading-[44px] text-neutral-900 dark:text-neutral-0",style:{fontFamily:"announcement-modal-title"},children:t}),(0,r.jsx)("p",{className:"text-sm text-neutral-600 dark:text-neutral-40",children:l})]}),(0,r.jsx)("div",{className:"flex flex-col gap-1",children:i.map((e,t)=>(0,r.jsx)(f,{...e},t))})]}),(0,r.jsx)(d.z,{variant:"ai",onClick:()=>{var e;s(null!==(e=n.redirect_to)&&void 0!==e?e:"")},children:n.text})]})},h=e=>{let{announcementModal:t,redirectHandler:n,onCloseBtnClick:i}=e,[l,a]=(0,s.useState)(!1),d=null==t?void 0:t.content;return((0,s.useEffect)(()=>{var e,n,r;if(!t||!t.is_enabled)return;let i=null!==(e=t.max_shows)&&void 0!==e?e:1,l=null!==(n=t.key)&&void 0!==n?n:"announcement-modal",s=parseInt(null!==(r=localStorage.getItem(l))&&void 0!==r?r:"0",10);s>=i||(localStorage.setItem(l,(s+1).toString()),a(!0),Promise.all(t.content.titleFonts.map(e=>new FontFace("announcement-modal-title","url(".concat(e.url,")"),e.options).load())).then(e=>{e.forEach(e=>{var t;null===(t=document)||void 0===t||t.fonts.add(e)})}).catch(()=>{}))},[t,a]),d)?(0,r.jsx)(c.$E,{open:l,onOpenChange:a,children:(0,r.jsxs)(c.Yk,{className:"h-full max-h-[519px] w-full max-w-[789px] transition-colors duration-500",children:[(0,r.jsxs)(c.DQ,{className:"relative w-full flex-row gap-0 overflow-hidden rounded-[18px]",children:[t.is_confetti_enabled&&(0,r.jsx)(o(),{recycle:!1,gravity:.5}),(0,r.jsx)(c.Zh,{onClick:i}),(0,r.jsx)("div",{className:"h-full min-w-[280px] bg-neutral-20 dark:bg-neutral-800",children:(0,r.jsx)("img",{src:d.primary_announcement_img,alt:"primary",className:"h-full w-full object-cover"})}),(0,r.jsx)("div",{className:"grid h-full w-full place-items-center p-6",children:(0,r.jsx)(x,{...d,redirectHandler:e=>{a(!1),n(e)}})})]}),d.secondary_announcement_img&&(0,r.jsx)("div",{className:"absolute left-2 top-0 z-50 h-[100px] w-[95px] -translate-x-1/2 -translate-y-1/2 transform",children:(0,r.jsx)("img",{src:d.secondary_announcement_img,alt:"secondary",className:"h-full w-full object-cover"})})]})}):null};var v=n(24019),_=n(43664);let I=()=>((0,s.useEffect)(()=>{let e=()=>{m.Am.warning("There seems to be a problem with the connection.",{renderCta:e=>(0,r.jsx)(d.z,{...e,onClick:()=>{_.c.triggerEventUsingElementId(v.i.RELOAD_CANVAS),window.location.reload()},children:"Reload"}),duration:1e4})},t=()=>{m.Am.success("You are back online!")};return window.addEventListener("offline",e),window.addEventListener("online",t),()=>{window.removeEventListener("offline",e),window.removeEventListener("online",t)}},[]),null);var N=n(63218),E=n(83359),w=n(83649),j=n(54012),S=n(24528),y=n(29865),b=n(52247),T=n(13495),k=n(66648),C=n(8662);let A=e=>{let{onClick:t,isSelected:n,index:i}=e;return(0,r.jsx)("button",{id:"image-carousel-indicator-".concat(i),"aria-label":"Image#".concat(i),type:"button",onClick:t,className:(0,S.cn)("h-1.5 min-h-1.5 w-1.5 min-w-1.5 rounded-full bg-neutral-900 bg-opacity-[0.24] opacity-100 backdrop-blur-[6px] transition-all duration-500 dark:bg-neutral-0",{"w-3 min-w-3 bg-opacity-100":n})})},P=e=>{let{images:t,className:n="",currentImgIndex:i,onChange:l}=e;return(0,r.jsx)("div",{className:"h-full min-w-[280px] max-w-[280px] bg-neutral-20 dark:bg-neutral-800",children:(0,r.jsx)(C.lr,{showArrows:!1,useKeyboardArrows:!0,autoPlay:!0,interval:3e3,infiniteLoop:!0,showStatus:!1,showThumbs:!1,showIndicators:t.length>1,onChange:e=>{null==l||l(e)},renderIndicator:(e,t,n)=>(0,r.jsx)(A,{onClick:e,isSelected:t,index:n}),selectedItem:i,children:t.map((e,t)=>(0,r.jsx)("div",{className:"h-full w-full",children:(0,r.jsx)(k.default,{src:e,alt:"".concat(t),className:"".concat(n," h-full max-h-screen w-full object-contain"),width:280,height:280})},t))})})},O=[{src:"".concat(b.v.ASSETS_CDN,"assets/images/txt to art.png"),darkSrc:"".concat(b.v.ASSETS_CDN,"assets/images/txt to art dark.png"),content:{title:"Turn Text into Art",description:"Type a few words and instantly see them transformed into a captivating image.",Icon:T.UV}},{src:"".concat(b.v.ASSETS_CDN,"assets/images/image remix.png"),darkSrc:"".concat(b.v.ASSETS_CDN,"assets/images/image remix dark.png"),content:{title:"Remix Images with AI",description:"Combine your images with text prompts for endless creative possibilities.",Icon:T.zS}},{src:"".concat(b.v.ASSETS_CDN,"assets/images/templates.png"),darkSrc:"".concat(b.v.ASSETS_CDN,"assets/images/templates dark.png"),content:{title:"Limitless Design with Infinite Canvas",description:"Create stunning social media posts, posters, and more without space limitations.",Icon:T.OQ}}],R=O.map(e=>{let{src:t}=e;return t}),D=O.map(e=>{let{darkSrc:t}=e;return t}),L=()=>{let[e,t]=(0,s.useState)(0),n=O[e].content.Icon;return(0,r.jsxs)("div",{className:"relative h-full min-w-[280px] bg-neutral-20 dark:bg-neutral-800",children:[(0,r.jsx)("div",{className:"absolute inset-0 block dark:hidden",children:(0,r.jsx)(P,{currentImgIndex:e,onChange:t,images:R})}),(0,r.jsx)("div",{className:"absolute inset-0 hidden dark:block",children:(0,r.jsx)(P,{currentImgIndex:e,onChange:t,images:D})}),(0,r.jsxs)(y.S,{className:"absolute inset-x-0 bottom-[30px] z-50 mx-auto flex h-[116px] w-[256px] flex-col gap-2 p-2 dark:bg-neutral-700",children:[(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"grid h-8 w-8 place-items-center rounded-xl bg-neutral-30 dark:bg-neutral-600",children:(0,r.jsx)(n,{className:"h-4 w-4"})})}),(0,r.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,r.jsx)("h3",{className:"text-xs font-medium text-neutral-900 dark:text-neutral-0",children:O[e].content.title}),(0,r.jsx)("p",{className:"text-[11px] leading-[18px] text-neutral-600 dark:text-neutral-40",children:O[e].content.description})]})]})]})},G=()=>{let e=(0,j.k)(e=>e.isOpen),t=(0,j.k)(e=>e.setIsOpen),n=(0,l.ac)("(min-width: 1180px)");return(0,r.jsx)(E.$E,{open:e,onOpenChange:t,children:(0,r.jsxs)(E.Yk,{className:(0,S.cn)("h-full max-h-[600px] w-full overflow-hidden transition-colors duration-500",{"max-w-[1180px]":n,"max-w-[900px]":!n}),children:[(0,r.jsx)(E.Zh,{}),(0,r.jsxs)(E.DQ,{className:"w-full flex-row gap-0 overflow-hidden p-4",children:[n&&(0,r.jsx)(L,{}),(0,r.jsx)("div",{className:"h-full w-full p-6",children:(0,r.jsx)(w.m,{variant:"modal",revokeActionHandler:()=>{}})})]})]})})};var U=n(13304),F=n(99497),M=n(87138),H=n(86759),B=n(34124),V=n(60566),z=n(35273),Y=n(75942),Z=n(24030),K=n(81750),W=n(53574),Q=n(8363);let X=e=>{let{tokenItem:t}=e;return(0,r.jsxs)(F.ck,{className:"flex h-[68px] w-full cursor-pointer items-center justify-between rounded-2xl bg-neutral-20 px-4 py-3 transition-colors duration-500 hover:bg-neutral-30 dark:bg-neutral-800 dark:hover:bg-neutral-700",value:"".concat(t.stripePriceId),children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(Q.E9,{value:"".concat(t.stripePriceId)}),(0,r.jsxs)("div",{className:"flex flex-col text-left",children:[(0,r.jsxs)("p",{className:"font-semibold text-neutral-900 dark:text-neutral-0",children:[t.maxQuantity," Tokens"]}),(0,r.jsxs)("p",{className:"font-medium text-neutral-600 dark:text-neutral-60",children:[t.price/t.maxQuantity," USD / token"]})]})]}),(0,r.jsxs)("div",{className:"font-semibold text-neutral-900 dark:text-neutral-0",children:["$",t.price]})]})},$=()=>{var e,t,n;let i=(0,K.m8)()(e=>e.user),{data:l,isLoading:a}=(0,Y.sb)(),o=null==l?void 0:null===(t=l.result[0])||void 0===t?void 0:null===(e=t.StripePrice[0])||void 0===e?void 0:e.stripePriceId,[c,u]=(0,s.useState)(),m=(0,Y.wN)(),p=(0,Z.n)(e=>e.isOpen),g=(0,Z.n)(e=>e.setIsOpen);return(0,s.useEffect)(()=>{u(o)},[o]),(0,r.jsx)(E.$E,{open:p,onOpenChange:g,children:(0,r.jsxs)(E.Yk,{className:"flex h-fit w-[409px] flex-col items-center justify-start gap-6 p-6 pt-11",children:[(0,r.jsx)(E.Zh,{}),(0,r.jsx)("div",{className:"grid min-h-[74px] min-w-[74px] place-items-center rounded-full bg-[linear-gradient(180deg,#9C4FFF_0%,#674FFF_100%)]",children:(0,r.jsx)(T.Nl,{className:"h-11 w-11 stroke-current stroke-[3] text-neutral-0 transition-colors duration-500"})}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 text-center",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-neutral-900 transition-colors duration-500 dark:text-neutral-0",children:"Top up your tokens"}),(0,r.jsx)("p",{className:"text-sm text-neutral-600 transition-colors duration-500 dark:text-neutral-40",children:"Running low on tokens? Purchase tokens on the go and add them to your existing subscription."})]}),(0,r.jsx)(Q.Kl,{className:"flex max-h-[228px] w-full flex-col gap-3 overflow-hidden overflow-y-auto",value:c,onValueChange:u,children:a?Array.from({length:3}).map((e,t)=>(0,r.jsx)(H.A,{className:"h-[68px] w-full rounded-2xl"},t)):null==l?void 0:null===(n=l.result[0])||void 0===n?void 0:n.StripePrice.map(e=>(0,r.jsx)(X,{tokenItem:e},e.id))}),(0,r.jsxs)("div",{className:"flex w-full flex-col gap-3",children:[(0,r.jsx)(d.z,{type:"button",variant:"primary",className:"w-full",size:"xl",disabled:a||m.isLoading,onClick:()=>{m.mutate(null!=c?c:"",{onSuccess:z.R9,onError:z.h_})},children:m.isLoading?(0,r.jsx)(B.$,{className:"h-5 w-5"}):"Buy tokens"}),(0,r.jsx)(d.z,{type:"button",variant:"secondary",className:"w-full",size:"xl",disabled:m.isLoading,asChild:!0,children:(0,r.jsx)(U.x8,{asChild:!0,children:(0,r.jsx)(M.default,{onClick:()=>{var e;(0,W.iC)(V.r.UPGRADE_PLAN_BTN_DASHBOARD,null!==(e=null==i?void 0:i.email)&&void 0!==e?e:"")},href:N.H7.SUBSCRIPTION,children:"Upgrade Plan"})})})]})]})})};var q=n(6498),J=n(54361),ee=n(18431),et=n(76111);let en="low-on-tokens-modal",er=()=>{var e,t,n,i;let l=(0,K.m8)()(e=>e.subscription),{isModalOpen:a,setIsModalOpen:o}=(0,J.d)(),c=(0,K.m8)()(e=>e.user),u=!!c,m=(null!==(n=null==l?void 0:null===(t=l.stripe)||void 0===t?void 0:null===(e=t.StripePrice.StripeProduct)||void 0===e?void 0:e.name)&&void 0!==n?n:"")===ee.Sz.STANDARD,{data:p,isLoading:g}=(0,q.j)(),f=null!==(i=null==p?void 0:p.platformSpecificTotal)&&void 0!==i?i:0;return((0,s.useEffect)(()=>{u&&!g&&f<=30&&"true"!==sessionStorage.getItem(en)&&(o(!0),sessionStorage.setItem(en,"true"))},[o,g,f,u]),!l||g)?null:(0,r.jsx)(E.$E,{open:a,onOpenChange:o,children:(0,r.jsxs)(E.Yk,{className:"flex h-fit w-[409px] flex-col items-center justify-start gap-6 p-6 pt-11",children:[(0,r.jsx)(E.Zh,{}),(0,r.jsx)("div",{className:"grid min-h-[74px] min-w-[74px] place-items-center rounded-full bg-[linear-gradient(180deg,#9C4FFF_0%,#674FFF_100%)]",children:(0,r.jsx)(T.Nl,{className:"h-11 w-11 stroke-current stroke-[3] text-neutral-0 transition-colors duration-500"})}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 text-center",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-neutral-900 transition-colors duration-500 dark:text-neutral-0",children:"Running low on tokens"}),(0,r.jsx)("p",{className:"text-sm text-neutral-600 transition-colors duration-500 dark:text-neutral-40",children:"Purchase tokens on the go and add them to your existing subscription."})]}),(0,r.jsxs)("div",{className:"flex w-full flex-col gap-3",children:[(0,r.jsx)(et.BuyMoreTokensModalCTA,{size:"xl",onClick:()=>{var e;return(0,W.iC)(V.r.LOW_ON_TOKENS,null!==(e=null==c?void 0:c.email)&&void 0!==e?e:"")},children:"Buy tokens"}),m&&(0,r.jsx)(d.z,{type:"button",variant:"secondary",className:"w-full",size:"xl",asChild:!0,children:(0,r.jsx)(U.x8,{asChild:!0,children:(0,r.jsx)(M.default,{href:N.H7.SUBSCRIPTION,children:"Upgrade Plan"})})})]})]})})};var ei=n(10733);let el=[N.H7.STARTER],es=e=>{for(let t=0;t<el.length;t++)if(e.startsWith(el[t]))return!1;return!0},ea=()=>{let e=(0,ei.Td)()(e=>e.announcementModal),t=(0,K.m8)()(e=>e.user),n=(0,i.useRouter)(),s=es((0,i.usePathname)()),a=(0,l.ac)("(max-width: 768px)");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)($,{}),(0,r.jsx)(G,{}),(0,r.jsx)(er,{}),(0,r.jsx)(I,{}),!!t&&!a&&s&&(0,r.jsx)(h,{onCloseBtnClick:()=>{_.c.triggerEventUsingElementId(v.i.ANNOUNCEMENT_POPUP_CLOSE)},announcementModal:e,redirectHandler:e=>{_.c.triggerEventUsingElementId(v.i.ANNOUNCEMENT_POPUP_CTA),n.push(e)}})]})}},13684:function(e,t,n){"use strict";n.d(t,{Initializer:function(){return B}});var r,i=n(57437),l=n(14643),s=n(2265),a=n(75994),o=n(43664),c=n(47802),d=n(82442),u=n(16463),m=n(63218),p=n(51864),g=n(72143),f=n(54795);async function x(e,t){let{requestOptions:n}=null!=e?e:{};return(null==e?void 0:e.throwOnError)===void 0||!1===e.throwOnError?g.p.get("".concat(f.TG.VIDEO_STATUS).concat(t?"/".concat(t):""),n,{throwOnError:!1}):g.p.get("".concat(f.TG.VIDEO_STATUS).concat(t?"/".concat(t):""),n,{throwOnError:!0})}var h=n(81750);(r||(r={})).VIDEO_GENERATED="VideoGenerated";let v=function(){let{shouldFetchVideoStatus:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,h.m8)()(e=>e.user),n=(0,u.usePathname)()!==m.H7.LIBRARY;return(0,p.useQuery)([r.VIDEO_GENERATED],()=>x({throwOnError:!0}),{refetchInterval:3e4,enabled:!!t&&e&&n,select:e=>e.data})};var _=n(19733),I=n(5882),N=n(81149);let E=()=>{let e=(0,u.useRouter)(),[t,n]=(0,s.useState)(),{shouldFetchVideoStatus:r,setShouldFetchVideoStatus:l}=(0,_.B)(),{data:a,isFetching:o}=v({shouldFetchVideoStatus:r});return(0,s.useEffect)(()=>{a&&l((0,I.B)(a.videos))},[a,l]),(0,s.useEffect)(()=>{a&&(t&&!o&&(0,I.z)(t,a)&&d.Am.success("Your video is Ready",{duration:4e3,renderCta:t=>(0,i.jsx)(N.z,{...t,onClick:()=>{e.push(m.H7.LIBRARY)},children:"View Now"})}),n(a))},[a,t,o,e]),null};var w=n(44785),j=n(89216),S=n(1576),y=n(6498),b=n(31708),T=n(45019),k=n(36805);let C=async(e,t,n,r,i)=>{let l=t;if(!e.current){if(!t&&n){e.current=!0;let s=await (0,k.Pl)(null!=t?t:"",null!=n?n:"",null!=r?r:"");if(s)(0,k.Ml)({token:s.sessionToken,refreshToken:s.refreshToken,tokenExpiresIn:s.tokenExpiresIn,cookies:w.Z}),e.current=!1,l=s.sessionToken;else try{await (0,T.kS)()}catch(e){throw Error("Your session has expired. Please sign in again to continue using the application.")}finally{i()}}else if(!t&&!n)try{await (0,T.kS)()}catch(e){throw Error("Your session has expired. Please sign in again to continue using the application.")}finally{i()}}return l},A=[f.TG.TEXT_BASED_REALTIME_GENERATION,f.TG.IMAGE_BASED_REALTIME_GENERATION,f.TG.VIDEO_STATUS,f.TG.VIDEO_DELETE],P=()=>{let e=(0,b.a)(),t=(0,s.useRef)(!1),{refetch:n}=(0,y.j)();return(0,s.useEffect)(()=>{let r=g.p.interceptors.request.use(async n=>{t.current&&await (0,c.Ch)(()=>!t.current,500);let r=w.Z.get(S.R.TOKEN),i=w.Z.get(S.R.REFRESH_TOKEN),l=w.Z.get(S.R.TOKEN_EXPIRES_IN),s=new Headers(n.headers);return r=await C(t,r,i,l,e),s.set("X-Platform","".concat(j.K.WEB)),s.set("Authorization","Bearer ".concat(r)),n.headers=s,n}),i=g.p.interceptors.response.use(e=>(A.some(t=>{var n;return null===(n=e.response.url)||void 0===n?void 0:n.includes(t)})||n(),e));return()=>{g.p.interceptors.request.eject(r),g.p.interceptors.response.eject(i)}},[]),null},O=()=>{let e=(0,u.useSearchParams)();return(0,c.Pu)(e),null};var R=n(80732),D=n(88318),L=n(73359),G=n(85951),U=n(14125);let F=()=>{var e,t,n;let r=(0,u.useSearchParams)(),i=(0,h.m8)()(e=>e.user),{aggregator:l}=(0,G.O)(),a=(0,h.m8)()(e=>e.subscription),{stripeSubscription:o}=(0,U.L)(a),{isSubscriptionActive:c}=(0,U.L)(a),d=null==o?void 0:null===(t=o.StripePrice)||void 0===t?void 0:null===(e=t.StripeProduct)||void 0===e?void 0:e.name,m=null==o?void 0:null===(n=o.StripePrice)||void 0===n?void 0:n.billingInterval,p=c?"Premium":"Free",g=(0,u.usePathname)();return(0,s.useEffect)(()=>{i&&("true"===r.get(L.u.IS_SIGN_UP)&&l.log(R.H.signup_completed.withProperties({signup_channel:"Web",name:null==i?void 0:i.name,email:null==i?void 0:i.email,distinct_id:null==i?void 0:i.id})),"false"===r.get(L.u.IS_SIGN_UP)&&l.log(R.H.login_completed.withProperties({signup_channel:"Web",email:null==i?void 0:i.email,user_account_status:p,user_plan:d,user_plan_period:m,page_name:D.I[g],distinct_id:i.id})))},[i,l,r,d,m,p,g]),null};var M=n(53574);let H=()=>{let e=(0,h.m8)()(e=>e.user),t=null==e?void 0:e.email;return(0,s.useEffect)(()=>{try{t&&((0,M.jl)(t),(0,M.Y8)(t))}catch(e){}},[t]),null},B=e=>{let{children:t}=e;return(0,s.useEffect)(()=>{o.c.initAnalytics(),(0,l.MD)(),(0,c.g_)()},[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.wm,{}),(0,i.jsx)(O,{}),(0,i.jsx)(P,{}),(0,i.jsx)(H,{}),(0,i.jsx)(F,{}),(0,i.jsx)(E,{}),t,(0,i.jsx)(d.Z3,{})]})}},19651:function(e,t,n){"use strict";n.d(t,{Providers:function(){return k}});var r=n(57437),i=n(47808),l=n(27079),s=n(81171),a=n(2265),o=n(52247),c=n(96994),d=n(85951),u=n(42911),m=n(22291),p=n.n(m),g=n(86835);let f={gtmId:o.v.GTM_ID};class x extends g.n{log(e){let{properties:t}=e;this.manager.dataLayer({dataLayer:{event:"gtm.click","gtm.elementId":e.name,...t}})}constructor(){super(),this.manager=p(),this.manager.initialize(f)}}var h=n(80732),v=n(63218);class _ extends g.n{log(e){e.id===h.H.nothing.id?this.analyticProvider.log(e):(e.match({event:h.H.export,callback:e=>{if(e.properties.page_name===v.H7.CANVAS_TOOL){let t=e.extractProperties(["email","total_images_exported","tokens_remaining","user_plan","user_plan_period","user_account_status","page_name","export_all","source","file_size","file_type","distinct_id"]);this.analyticProvider.log(t)}else{let t=e.extractProperties(["email","total_images_exported","tokens_remaining","user_plan","user_plan_period","page_name","user_account_status","export_all","source","distinct_id"]);this.analyticProvider.log(t)}}}),e.match({event:h.H.logout_completed,callback:e=>{let t=e.extractProperties(["signup_channel","email","user_plan_period","user_plan","user_account_status","page_name","logout_count","distinct_id"]);this.analyticProvider.log(t)}}),e.match({event:h.H.signup_completed,callback:e=>{let t=e.extractProperties(["signup_channel","email","mode","marketing_consent","name","distinct_id"]);this.analyticProvider.log(t)}}),e.match({event:h.H.login_completed,callback:e=>{let t=e.extractProperties(["email","login_count","mode","page_name","revenue_till_date","signup_channel","user_account_status","user_plan","user_plan_period","distinct_id"]);this.analyticProvider.log(t)}}),e.match({event:h.H.add_to_cart,callback:e=>{let t=e.extractProperties(["amount","currency","email","page_name","signup_channel","tokens_amount","user_plan_period","user_plan","distinct_id"]);this.analyticProvider.log(t)}}),e.match({event:h.H.purchase,callback:e=>{let t=e.extractProperties(["Payment_status","amount","currency","email","page_name","payment_method","signup_channel","subscription_downgrade","subscription_upgrade","tokens_amount","tokens_remaining","user_plan","user_plan_period","distinct_id","renewal_status","topup_purchased"]);this.analyticProvider.log(t)}}),e.match({event:h.H.image_generated,callback:e=>{if("Text to Image"===e.properties.feature){let t=e.extractProperties(["feature","number_of_images","aspect_ratio","cfg_scale","hdr_enabled","model_id","model_used","style_used","page_name","negative_prompt_used","negative_prompt_length","random_prompt_used","seed","session_text_to_image","source","steps","tag_used","user_account_status","user_plan","user_plan_period","email","texttoimages_generated","ai_generations","tokens_remaining","generation_source","prompt_length","processing_error","processing_status","tag_category","distinct_id"]);this.analyticProvider.log(t)}if("Image Remix"===e.properties.feature){let t=e.extractProperties(["feature","number_of_images","cfg_scale","model_id","model_used","style_used","negative_prompt_used","negative_prompt_length","random_prompt_used","hdr_enabled","seed","source","tag_used","user_plan","user_account_status","user_plan_period","email","ai_generations","tokens_remaining","image_strength","remix_mode","session_image_remix","generation_source","remix_generated","page_name","prompt_length","processing_error","processing_status","tag_category","distinct_id"]);this.analyticProvider.log(t)}if("Creative Enhance"===e.properties.feature){let t=e.extractProperties(["feature","number_of_images","source","advance_settings_used","creativity","resemblance","hdr_strength","prompt_used","prompt_length","enhance_generated","page_name","processing_status","processing_error","email","user_account_status","user_plan","user_plan_period","tokens_remaining","distinct_id"]);this.analyticProvider.log(t)}}}))}constructor(e){super(),this.analyticProvider=e}}var I=n(10733),N=n(81750),E=n(95401),w=n(16463),j=n(11567),S=n(85169);let y=[{pathname:v.H7.APPS,exact:!1},{pathname:v.H7.ROOT,exact:!0},{pathname:v.H7.BLOGS,exact:!1},{pathname:v.H7.STARTER,exact:!1},{pathname:v.H7.AI_IMAGE_GENERATOR,exact:!0},{pathname:v.H7.AI_PICTURE_GENERATOR,exact:!0}],b=e=>{for(let t=0;t<y.length;t++){let n=y[t];if((0,j.default)(e,n.pathname,n.exact))return"dark"}},T=e=>{let{children:t}=e,n=(0,w.usePathname)();return(0,r.jsx)(S.f,{enableSystem:!0,attribute:"class",disableTransitionOnChange:!0,forcedTheme:b(n),children:t})},k=e=>{let{children:t,remoteConfigValues:n,userStoreValues:m}=e,[p,g]=(0,a.useState)(()=>new u.j([])),[f]=(0,a.useState)(()=>new i.S({defaultOptions:{queries:{refetchOnWindowFocus:!1,refetchOnMount:!1}}}));return(0,a.useEffect)(()=>{let e=new _(new x);g(new u.j([e]))},[]),(0,r.jsx)(d.n,{aggregator:p,children:(0,r.jsx)(c.f,{children:(0,r.jsx)(N.KG,{initialState:m,children:(0,r.jsx)(I.hO,{initialState:n,children:(0,r.jsx)(T,{children:(0,r.jsx)(E.Xf,{children:(0,r.jsxs)(l.QueryClientProvider,{client:f,children:[t,!o.v.IS_PROD_DEPLOYMENT&&(0,r.jsx)(s.t,{initialIsOpen:!1})]})})})})})})})}},89216:function(e,t,n){"use strict";n.d(t,{K:function(){return r}});let r={ANDROID:1,IOS:2,WEB:3,UNIVERSAL:null}},96994:function(e,t,n){"use strict";n.d(t,{V:function(){return c},f:function(){return o}});var r=n(57437),i=n(16463),l=n(2265),s=n(88318);let a=(0,l.createContext)({source:"",page:"",onNavigation:()=>{}}),o=e=>{let{children:t}=e,[n,o]=(0,l.useState)(""),[c,d]=(0,l.useState)(""),u=(0,i.usePathname)();(0,l.useEffect)(()=>{var e;o(null!==(e=sessionStorage.getItem("source"))&&void 0!==e?e:"")},[]);let m=(0,l.useCallback)(e=>{o(c),c&&sessionStorage.setItem("source",c),d(s.I[e])},[c]);(0,l.useEffect)(()=>{m(u)},[u]);let p=(0,l.useMemo)(()=>({source:n,page:c,onNavigation:m}),[n,c,m]);return(0,r.jsx)(a.Provider,{value:p,children:t})},c=()=>{let e=(0,l.useContext)(a);if(void 0===e)throw Error("useToolsContext must be used within a ToolsProvider");return e}},54362:function(e,t,n){"use strict";n.d(t,{PricingModalCTA:function(){return p}});var r=n(57437),i=n(16463),l=n(2265),s=n(63218),a=n(60566),o=n(54012),c=n(81750),d=n(53574),u=n(81149);let m={[s.H7.FROM_TEXT]:a.r.TEXT_TO_IMAGE_UPGRADE_BTN,[s.H7.IMAGE_REMIX]:a.r.IMAGE_REMIX_UPGRADE_BTN,[s.H7.CANVAS_TOOL]:a.r.CANVAS_UPGRADE_BTN},p=(0,l.forwardRef)((e,t)=>{let{onClick:n,...l}=e,a=(0,i.usePathname)(),p=(0,o.k)(e=>e.open),g=(0,c.m8)()(e=>e.user),f=!!(null==g?void 0:g.id),x=(0,i.useRouter)();return(0,r.jsx)(u.z,{type:"button",ref:t,...l,onClick:e=>{var t;if(!f){x.push(s.H7.TOOLS_AUTH);return}null==n||n(e),p(),m[a]&&(0,d.iC)(m[a],null!==(t=null==g?void 0:g.email)&&void 0!==t?t:"")}})});p.displayName="PricingModalCTA"},76111:function(e,t,n){"use strict";n.d(t,{BuyMoreTokensModalCTA:function(){return a}});var r=n(57437),i=n(2265),l=n(24030),s=n(81149);let a=(0,i.forwardRef)((e,t)=>{let{onClick:n,...i}=e,a=(0,l.n)(e=>e.open);return(0,r.jsx)(s.z,{type:"button",ref:t,...i,onClick:e=>{null==n||n(e),a()}})});a.displayName="BuyMoreTokensModalCTA"},6498:function(e,t,n){"use strict";n.d(t,{X:function(){return m},j:function(){return u}});var r,i,l=n(51864),s=n(94046),a=n(81750),o=n(89216);let c=new Set([o.K.WEB,o.K.UNIVERSAL]),d=async()=>{let e=await (0,s.VV)(),t=e.tokens.filter(e=>{let{platform:t}=e;return c.has(t)}).reduce((e,t)=>e+t.balance,0);return{...e,platformSpecificTotal:t}};(r=i||(i={})).TOKEN_COUNT="TokenCount",r.TOKEN_CONSUMPTION_CONFIG="TokenConsumptionConfig";let u=()=>{let e=(0,a.m8)()(e=>e.user);return(0,l.useQuery)([i.TOKEN_COUNT],d,{enabled:!!e,staleTime:36e5})},m=()=>(0,l.useQuery)([i.TOKEN_CONSUMPTION_CONFIG],s.L5,{staleTime:36e5})},31708:function(e,t,n){"use strict";n.d(t,{a:function(){return p}});var r=n(16463),i=n(2265),l=n(63218),s=n(45019),a=n(18741),o=n(5672),c=n(18617),d=n(30507),u=n(81750),m=n(36805);let p=()=>{let e=(0,r.useRouter)(),t=(0,o.TI)(e=>e.resetCollectionStore),n=(0,c.IJ)(e=>e.resetCollectionStore),p=(0,a.m)(e=>e.resetChangePlanStoreStore),g=(0,d.p)(e=>e.resetPersistToolSettingStore),f=(0,u.m8)()(e=>e.logoutUser);return(0,i.useCallback)(()=>{(0,s.kS)().catch(()=>{});try{f(),t(),n(),p(),g(),(0,m.J5)()}catch(e){}e.push(l.H7.AUTH),e.refresh()},[f,p,t,n,g,e])}},76015:function(e,t,n){"use strict";n.d(t,{$E:function(){return c},$c:function(){return d},DQ:function(){return x},Yk:function(){return g},Zh:function(){return p},_w:function(){return f},mp:function(){return v},vb:function(){return h}});var r=n(57437),i=n(13304),l=n(2265),s=n(8792),a=n(24528),o=n(81149);let c=i.fC,d=i.xz,u=e=>(0,r.jsx)(i.h_,{...e});u.displayName=i.h_.displayName;let m=l.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,r.jsx)(i.aV,{ref:t,className:(0,a.cn)("fixed inset-0 z-50 bg-black bg-opacity-70 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...l})});m.displayName=i.aV.displayName;let p=e=>{let{btnProps:t={},...n}=e,{className:l,variant:c="ghost-secondary",size:d="icon-sm",...u}=t;return(0,r.jsx)(o.z,{variant:c,size:d,className:(0,a.cn)("absolute right-2 top-2",l),asChild:!0,...u,children:(0,r.jsxs)(i.x8,{...n,children:[(0,r.jsx)(s.aM,{className:"h-[18px] w-[18px] stroke-[1.5]"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})})};p.displayName=i.x8.displayName;let g=l.forwardRef((e,t)=>{let{className:n,children:l,onModalClose:s,onCloseAutoFocus:o,disableAnimation:c=!1,container:d=document.body,...p}=e;return(0,r.jsxs)(u,{container:d,children:[(0,r.jsx)(m,{}),(0,r.jsx)(i.VY,{onCloseAutoFocus:e=>{null==s||s(),null==o||o(e)},ref:t,className:(0,a.cn)("fixed left-[50%] top-[50%] z-50 flex translate-x-[-50%] translate-y-[-50%] flex-col justify-between rounded-[18px] bg-neutral-0 text-neutral-600 shadow-lg transition-all duration-200 dark:bg-neutral-900 dark:text-neutral-40",{"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%]":!c},n),...p,children:l})]})});g.displayName=i.VY.displayName;let f=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,a.cn)("flex h-12 flex-col justify-center gap-1 border-b border-neutral-20 p-2 pl-4 transition-all duration-500 dark:border-neutral-800",t),...n})};f.displayName="GenericModalHeader";let x=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,a.cn)("flex h-full flex-1 flex-col gap-1",t),...n})};x.displayName="GenericModalBody";let h=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,a.cn)("flex h-fit items-center justify-end p-6 pt-0",t),...n})};h.displayName="GenericModalFooter";let v=l.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,r.jsx)(i.Dx,{ref:t,className:(0,a.cn)("font-medium text-neutral-900 transition-all duration-500 dark:text-neutral-0",n),...l})});v.displayName=i.Dx.displayName,l.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,r.jsx)(i.dk,{ref:t,className:(0,a.cn)("text-sm text-neutral-600 dark:text-neutral-40",n),...l})}).displayName=i.dk.displayName},8363:function(e,t,n){"use strict";n.d(t,{Kl:function(){return o},E9:function(){return c}});var r=n(57437),i=n(99497),l=n(2265),s=n(24528);let a=(0,n(12218).j)("aspect-square rounded-full border-2 border-neutral-200 dark:border-neutral-200 shadow ring-primary-500 dark:ring-primary-400 hover:border-primary-500 dark:hover:border-primary-400 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:border-primary-500 dark:data-[state=checked]:border-primary-400",{variants:{size:{sm:"sm h-4 w-4",md:"md h-5 w-5",lg:"lg h-6 w-6"}},defaultVariants:{size:"md"}}),o=l.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,r.jsx)(i.fC,{className:(0,s.cn)("grid gap-2",n),...l,ref:t})});o.displayName=i.fC.displayName;let c=l.forwardRef((e,t)=>{let{className:n,size:l,...o}=e;return(0,r.jsx)(i.ck,{ref:t,className:(0,s.cn)(a({size:l,className:n})),...o,children:(0,r.jsx)(i.z$,{className:"flex items-center justify-center",children:(0,r.jsx)("div",{className:"h-2 w-2 rounded-full bg-primary-500 transition-colors duration-500 dark:bg-primary-400 [.lg_&]:h-2.5 [.lg_&]:w-2.5 [.sm_&]:h-1.5 [.sm_&]:w-1.5"})})})});c.displayName=i.ck.displayName},78958:function(e,t,n){"use strict";n.d(t,{m:function(){return l}});var r=n(2265),i=n(82442);let l=()=>{let[e,t]=(0,r.useState)(null);return{value:e,copy:async e=>{var n;if(!(null===(n=navigator)||void 0===n?void 0:n.clipboard))return i.Am.error("Your browser does not support copying to clipboard"),!1;try{return await navigator.clipboard.writeText(e),t(e),!0}catch(e){return i.Am.error("Failed to copy to clipboard"),t(null),!1}}}}},72143:function(e,t,n){"use strict";n.d(t,{p:function(){return s}});var r=n(52247),i=n(11141),l=n(70778);let s=new i.hE({baseURL:r.v.ANPU_API_URL,defaultHeadersGenerator:l.A})},94046:function(e,t,n){"use strict";n.d(t,{xv:function(){return c},L5:function(){return o},VV:function(){return a}});var r=n(52247),i=n(11141),l=n(70778);let s=new i.hE({baseURL:r.v.ANPU_API_URL,defaultHeadersGenerator:l.A}),a=async()=>{let{data:e}=await s.get("/credit",void 0,{throwOnError:!0});return e},o=async()=>{let{data:e}=await s.get("/cost",void 0,{throwOnError:!0});return e},c=async e=>{let{data:t}=await s.get("/session",null==e?void 0:e.requestOptions,{throwOnError:!0});return t}},54795:function(e,t,n){"use strict";n.d(t,{SN:function(){return c},TG:function(){return i},WX:function(){return d},kw:function(){return s},zx:function(){return a}});var r,i,l=n(29328);let s=e=>{let t=new Headers;return t.append("Content-Type","multipart/form-data"),t.append("Premium",(0,l.Q)(e)),t},a=()=>({model_version:1}),o=e=>null!=e&&e.trim().length>0,c=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=t.filter(o);if(0!==r.length)return r.join(", ")},d=(e,t)=>{var n;let{model:r,aspect_ratio:i,cfg:l,style:s,prompt:o,negative_prompt:d,tags:u,high_res_results:m,seed:p}=e,{model_id:g}=r,f=null!==(n=c(o,null==r?void 0:r.init_prompt,null==s?void 0:s.init_prompt,...Object.entries(u).flatMap(e=>Array.from(e[1]))))&&void 0!==n?n:"",x=c(d,null==r?void 0:r.init_neg_prompt,null==s?void 0:s.init_neg_prompt),h={...a(),aspect_ratio:i,cfg:l,prompt:f,style_id:g,seed:null!=p?p:t};return x&&x.length>0&&(h.negative_prompt=x),m&&r.hdr_toggle&&(h.high_res_results=1),h};(r=i||(i={})).UPSCALE="/upscale",r.ENHANCE="/enhance",r.BACKGROUND_REMOVER="/background/remover",r.INPAINT="/edits/inpaint",r.OUTPAINT="/edits/outpaint",r.IMAGE_REMIX="/edits/remix",r.IMAGE_BASED_REALTIME_GENERATION="/edits/remix/turbo",r.FROM_TEXT="/generations",r.VARIATE="/generations/variations",r.CHARACTER_CONSISTENCY="/generations/consistent",r.TEXT_BASED_REALTIME_GENERATION="/generations/turbo",r.VIDEO_STATUS="/video/status",r.VIDEO_UPLOAD="/video/upload",r.VIDEO_DELETE="/video/delete",r.VIDEO_DOWNLOAD="/video/download",r.VIDEO_THUMBNAIL_DOWNLOAD="/video/thumbnail",r.FACE_DETECT="/info/faces"},20756:function(e,t,n){"use strict";var r,i;n.d(t,{w:function(){return r}}),(i=r||(r={}))[i.PENDING=0]="PENDING",i[i.PROCESSING=1]="PROCESSING",i[i.FINISHED=2]="FINISHED",i[i.FAILED=-1]="FAILED"},24030:function(e,t,n){"use strict";n.d(t,{n:function(){return r}});let r=(0,n(39099).Ue)()(e=>({isOpen:!1,setIsOpen:t=>e({isOpen:t}),open:()=>e({isOpen:!0})}))},5672:function(e,t,n){"use strict";n.d(t,{TI:function(){return l},cg:function(){return s},yn:function(){return i}});var r=n(67259);let i=(e,t)=>(0,r.Qt)(e,t),l=(0,r.hB)(i),s=(0,r.hB)(i)},67259:function(e,t,n){"use strict";n.d(t,{Qt:function(){return m},hB:function(){return g}});var r=n(14643),i=n(20920),l=n(39099),s=n(89291),a=n(22241),o=n(52247),c=n(47802);let d=(e,t)=>{if(!e||!t)return!1;let n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(n=>{let r=e[n],i=t[n];return r&&i&&(0,c.EE)(r,i)})},u=e=>(null==e?void 0:e.trim().toLowerCase())||"",m=(e,t)=>{var n,r,i,l;return!!e&&!!t&&d(e.tags,t.tags)&&e.aspect_ratio===t.aspect_ratio&&e.cfg===t.cfg&&e.high_res_results===t.high_res_results&&u(e.negative_prompt)===u(t.negative_prompt)&&u(e.prompt)===u(t.prompt)&&e.seed===t.seed&&(null===(n=e.style)||void 0===n?void 0:n.id)===(null===(r=t.style)||void 0===r?void 0:r.id)&&(null===(i=e.model)||void 0===i?void 0:i.id)===(null===(l=t.model)||void 0===l?void 0:l.id)},p=e=>{let{collections:t,selectedCollectionId:n}=e;return n?t.findIndex(e=>e.id===n):-1},g=e=>(0,l.Ue)()((0,a.n)((0,s.mW)((t,n)=>({collections:[],selectedImageId:void 0,selectedCollectionId:void 0,setSelectedCollection:e=>{t(t=>{let n=t.collections.find(t=>t.id===e.id);n&&(t.selectedCollectionId=n.id,t.selectedImageId=n.images[0].id)})},setSelectedImage:e=>{t(t=>{let n=t.collections.find(e=>e.id===t.selectedCollectionId);n&&n.images.find(t=>t.id===e)&&(t.selectedImageId=e)})},addImagesToCollection:(l,s,a)=>{t(t=>{let o=p(n()),c=(0,r.cA)(s),d=l.map(e=>({id:(0,i.Z)(),...e,...a?{originalSrc:a.src,originalImageId:a.id,isVariation:!!a}:{}}));if(-1===o||!t.collections[o]){let e=(0,r.cA)({id:(0,i.Z)(),images:d,settings:s});t.collections.unshift(e),t.selectedCollectionId=e.id,t.selectedImageId=e.images[0].id;return}let u=t.collections.findIndex(t=>e(t.settings,c));if(-1!==u)t.collections[u].images.unshift(...d);else{let e=(0,r.P2)({id:(0,i.Z)(),images:d,settings:s});t.collections.unshift(e),t.selectedCollectionId=e.id,t.selectedImageId=e.images[0].id}})},addImageToCollectionWithLoading:(l,s)=>{let a=(0,i.Z)();return t(t=>{let o=p(n()),c=(0,r.cA)(l),d={id:a,src:"",...s?{originalSrc:s.src,originalImageId:s.id,isVariation:!!s}:{},isLoading:!0};if(-1===o||!t.collections[o]){let e=(0,r.cA)({id:(0,i.Z)(),images:[d],settings:l});t.collections.unshift(e),t.selectedCollectionId=e.id,t.selectedImageId=e.images[0].id;return}let u=t.collections.findIndex(t=>e(t.settings,c));if(-1!==u)t.collections[u].images.unshift(d);else{let e=(0,r.P2)({id:(0,i.Z)(),images:[d],settings:l});t.collections.unshift(e),t.selectedCollectionId=e.id,t.selectedImageId=e.images[0].id}}),{imageId:a,collectionId:""}},createCollectionWithSettings:e=>{let n=(0,i.Z)();return t(t=>{let i=(0,r.P2)({id:n,images:[],settings:e});t.collections.unshift(i)}),{collectionId:n}},addImageToGivenCollectionWithLoading:(e,n)=>{let r=(0,i.Z)();return t(t=>{let i={id:r,src:"",...n?{originalSrc:n.src,originalImageId:n.id,isVariation:!!n}:{},isLoading:!0},l=p({collections:t.collections,selectedCollectionId:e});-1!==l&&t.collections[l]&&t.collections[l].images.unshift(i)}),{imageId:r,collectionId:""}},deleteGivenCollection(e){t(t=>{let n=p({collections:t.collections,selectedCollectionId:e});-1!==n&&t.collections[n]&&t.collections.splice(n,1)})},completeImageGenerationLoadingOnGivenCollection(e){let{image:n,imageId:r,collectionId:i}=e;t(e=>{let t=p({collections:e.collections,selectedCollectionId:i});if(-1===t||!e.collections[t])return;let l=e.collections[t].images.find(e=>e.id===r);l&&(l.isLoading=!1,l.src=n.src)})},deleteLoadingImageFromGivenCollection:e=>{let{imageId:n,collectionId:r}=e;t(e=>{let t=p({collections:e.collections,selectedCollectionId:r});-1!==t&&e.collections[t]&&(e.collections[t].images=e.collections[t].images.filter(e=>e.id!==n),e.collections[t].images.length>0||e.collections.splice(t,1))})},setImageLoadingOnGivenCollection:(e,n,r)=>{t(t=>{let i=p({collections:t.collections,selectedCollectionId:r});if(-1===i||!t.collections[i])return;let l=t.collections[i].images.find(t=>t.id===e);l&&(l.isLoading=n)})},setImageUpscaleOnGivenCollection:(e,n,r,i)=>{t(t=>{let l=p({collections:t.collections,selectedCollectionId:i});if(-1===l||!t.collections[l])return;let s=t.collections[l].images.find(t=>t.id===e);s&&(s.upscaleSrc=n,s.isUpscaled=r)})},deleteImageFromGivenCollection:e=>{let{imageId:n,collectionId:r}=e;t(e=>{let t=p({collections:e.collections,selectedCollectionId:r});-1!==t&&e.collections[t]&&(e.collections[t].images=e.collections[t].images.filter(e=>e.id!==n),e.collections[t].images.length>0||(e.collections=e.collections.filter(n=>{var r;return n.id!==(null===(r=e.collections[t])||void 0===r?void 0:r.id)})))})},setFocusOfOriginalImageOnGivenCollection:(e,n,r)=>{t(t=>{let i=p({collections:t.collections,selectedCollectionId:r});if(-1===i||!t.collections[i])return;let l=t.collections[i].images.find(t=>t.id===e);l&&(l.isFocused=n)})},completeImageGenerationLoading(e){let{image:r,imageId:i}=e;t(e=>{e.collections.forEach(e=>{let t=e.images.find(e=>e.id===i);t&&(t.isLoading=!1,t.src=r.src,r.randomSeed&&(t.randomSeed=r.randomSeed))});let t=p(n());if(-1===t)return;let l=e.collections[t].images.find(e=>e.id===i);l&&(l.src=r.src,l.isLoading=!1,r.randomSeed&&(l.randomSeed=r.randomSeed))})},deleteLoadingImage(e){t(t=>{var r;let i=p(n());-1!==i&&(t.collections[i].images=t.collections[i].images.filter(t=>t.id!==e),t.collections[i].images.length>0||(t.collections.splice(i,1),t.selectedCollectionId=null===(r=t.collections[0])||void 0===r?void 0:r.id))})},resetCollectionStore:()=>{t(e=>{e.collections=[],e.selectedCollectionId=void 0,e.selectedImageId=void 0})},setImageLoading:(e,r)=>{t(t=>{t.collections.forEach(t=>{let n=t.images.find(t=>t.id===e);n&&(n.isLoading=r)});let i=p(n());if(-1===i)return;let l=t.collections[i].images.find(t=>t.id===e);l&&(l.isLoading=r)})},setImagesUpscale:(e,r,i)=>{t(t=>{t.collections.forEach(t=>{t.images.forEach(t=>{e===t.id&&(t.upscaleSrc=r,t.isUpscaled=i)})});let l=p(n());-1!==l&&t.collections[l].images.forEach(t=>{e===t.id&&(t.upscaleSrc=r,t.isUpscaled=i)})})},deleteImage:e=>{t(t=>{var r;t.collections.forEach(t=>{t.images=t.images.filter(t=>t.id!==e)}),e===t.selectedImageId&&(t.selectedImageId=void 0);let i=p(n());-1!==i&&(t.collections[i].images=t.collections[i].images.filter(t=>t.id!==e),t.collections[i].images.length>0||(t.collections=t.collections.filter(e=>{var n;return e.id!==(null===(n=t.collections[i])||void 0===n?void 0:n.id)}),t.selectedCollectionId=null===(r=t.collections[0])||void 0===r?void 0:r.id))})},setFocusOfOriginalImage:(e,r)=>{t(t=>{let i=p(n());if(-1===i)return;let l=t.collections[i].images.find(t=>t.id===e);l&&(l.isFocused=r)})}}),{enabled:!o.v.IS_PROD_DEPLOYMENT&&(0,c.Ep)().isBrowser})))},18617:function(e,t,n){"use strict";n.d(t,{Hv:function(){return s},IJ:function(){return l},Tp:function(){return i}});var r=n(67259);let i=(e,t)=>(null==e?void 0:e.image)===(null==t?void 0:t.image)&&(null==e?void 0:e.control)===(null==t?void 0:t.control)&&(null==e?void 0:e.strength)===(null==t?void 0:t.strength)&&(0,r.Qt)(e,t),l=(0,r.hB)(i),s=(0,r.hB)(i)},30507:function(e,t,n){"use strict";n.d(t,{p:function(){return s}});var r=n(39099),i=n(89291);let l=e=>({...e,image:null,croppedImage:null}),s=(0,r.Ue)()((0,i.tJ)(e=>({persistedFromTextSetting:null,persistedImageRemixSetting:null,persistedTextToImageSetting:null,persistFromTextSetting:t=>e({persistedFromTextSetting:t}),persistImageRemixSetting:t=>{let{image:n,imageCroppedFrom:r,...i}=t;return e({persistedImageRemixSetting:i})},persistTextToImageSetting:t=>{let{image_to_image:n,image_structure:r,face_image:i,style_image:s,...a}=t;return e({persistedTextToImageSetting:{...a,face_image:l(i),style_image:l(s),image_to_image:l(n),image_structure:l(r)}})},resetPersistToolSettingStore:()=>e({persistedFromTextSetting:null,persistedImageRemixSetting:null,persistedTextToImageSetting:null})}),{name:"persist-tool-setting"}))},54012:function(e,t,n){"use strict";n.d(t,{k:function(){return r}});let r=(0,n(39099).Ue)()(e=>({isOpen:!1,setIsOpen:t=>e({isOpen:t}),open:()=>e({isOpen:!0})}))},19733:function(e,t,n){"use strict";n.d(t,{B:function(){return r}});let r=(0,n(39099).Ue)(e=>({shouldFetchVideoStatus:!0,setShouldFetchVideoStatus:t=>e(()=>({shouldFetchVideoStatus:t}))}))},29328:function(e,t,n){"use strict";n.d(t,{Q:function(){return c},eL:function(){return d},t$:function(){return p}});var r=n(57437),i=n(54362),l=n(76111),s=n(13495),a=n(11141),o=n(82442);let c=e=>e?"True":"False",d=(e,t)=>{if(e&&"object"==typeof e&&"code"in e&&"error"===e.code){if(e.statusCode===a.fJ.ABORTED){o.Am.error("Request canceled");return}if(e.error instanceof Error){o.Am.error(e.error.message);return}if(1101===e.error.code){o.Am.warning("Insufficient tokens. Tokens replenish every 12 hours.",{icon:(0,r.jsx)(s.Ss,{}),renderCta:e=>t?(0,r.jsx)(l.BuyMoreTokensModalCTA,{...e,children:"Buy tokens"}):(0,r.jsx)(i.PricingModalCTA,{...e,children:"Upgrade"}),className:"max-w-[500px]"});return}if(1100===e.error.code){o.Am.error("Sent request in invalid");return}if(400===e.statusCode||451===e.statusCode){o.Am.error("You can not generate Images of kids and celebrities.");return}o.Am.error(e.error.error)}else e instanceof Error?o.Am.error(e.message):o.Am.error("Processing failed")},u=e=>new Promise(t=>{setTimeout(t,e)}),m=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;try{return await e()}catch(r){if(n>0)return await u(t),m(e,2*t,n-1);throw r}},p=e=>{let t="Unknown";try{if(e instanceof Error)t=e.message;else if((null==e?void 0:e.code)==="error"){if((null==e?void 0:e.statusCode)===a.fJ.ABORTED)t="Request cancelled";else{var n,r;t=null!==(r=null===(n=e.error)||void 0===n?void 0:n.message)&&void 0!==r?r:"Failed to extract error"}}}catch(e){t=e instanceof Error?"CatchError: ".concat(e.message):"Look into this case if occurs"}return t}},5882:function(e,t,n){"use strict";n.d(t,{B:function(){return i},z:function(){return l}});var r=n(20756);let i=e=>e.some(e=>e.code===r.w.PENDING||e.code===r.w.PROCESSING),l=(e,t)=>e.videos.length===t.videos.length&&e.videos.some((e,n)=>{let i=e.code,l=t.videos[n].code;return i!==l&&l===r.w.FINISHED})},53054:function(){},31183:function(){}},function(e){e.O(0,[3008,9141,4488,1750,7754,9026,231,6533,3684,5018,1606,9659,3304,5510,7071,1298,8173,5267,4542,1141,2314,9622,7808,5092,8332,6750,8030,7279,3649,2971,7023,1744],function(){return e(e.s=58925)}),_N_E=e.O()}]);