"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6911],{8379:function(e,t,a){a.d(t,{O:function(){return i}});var n=a(57437),r=a(13495),l=a(24528);let i=e=>{let{credits:t,className:a,btnText:i="Generate"}=e;return(0,n.jsxs)("div",{className:(0,l.cn)("inline-flex items-center gap-2",a),children:[(0,n.jsx)("div",{children:i}),t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"h-3.5 min-w-0.5 rounded-full bg-neutral-0/50 group-disabled:bg-neutral-900/50 dark:group-disabled:bg-neutral-0/50"}),(0,n.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,n.jsx)("span",{children:t}),(0,n.jsx)(r.Ss,{className:"h-4 w-4"})]})]})]})}},55872:function(e,t,a){a.d(t,{O:function(){return d.O},D:function(){return x}});var n=a(57437),r=a(2265),l=a(34124),i=a(81149),s=a(95401),o=a(24528),d=a(8379);let c=(0,r.createContext)({isLoading:!1}),u=e=>{let{children:t,value:a}=e;return(0,n.jsx)(c.Provider,{value:a,children:t})},m=()=>{let e=(0,r.useContext)(c);if(void 0===e)throw Error("useGenerateButtonContext must be used within a GenerateButtonProvider");return e},p=r.forwardRef((e,t)=>{let{credits:a,btnText:r,contentClassName:s,...c}=e,{isLoading:u}=m();return(0,n.jsx)(i.z,{size:"sm",variant:"ai",ref:t,type:"submit",id:"generateBtn",className:(0,o.cn)("w-full opacity-100",{"group-hover:opacity-0":u}),...c,children:u?(0,n.jsx)(l.$,{className:"h-5 w-5"}):(0,n.jsx)(d.O,{credits:a,btnText:r})})});p.displayName="GenerateButton";let x=Object.assign(e=>{let{children:t,isLoading:a,className:r}=e;return(0,n.jsx)("div",{className:(0,o.cn)("group relative flex h-max",r),children:(0,n.jsx)(u,{value:{isLoading:a},children:t})})},{Button:p,Cancel:e=>{let{handleCancel:t,containerClassName:a,...r}=e,{isLoading:l}=m();return l?(0,n.jsx)(s.WithGenericTooltip,{content:"Cancellation will still consume token",children:(0,n.jsx)("div",{className:(0,o.cn)("absolute left-0 top-0 z-0 w-full opacity-0 hover:opacity-100 group-hover:opacity-100",a),children:(0,n.jsx)(i.z,{size:"sm",className:"w-full",variant:"secondary",type:"button",onClick:t,...r,children:"Cancel"})})}):null}})},34468:function(e,t,a){a.d(t,{I8:function(){return d},aI:function(){return c},pW:function(){return u},sR:function(){return m},u2:function(){return o}});var n=a(57437),r=a(62447),l=a(16526),i=a(2265),s=a(24528);let o=r.fC,d=i.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,n.jsx)(r.aV,{ref:t,className:(0,s.cn)("inline-flex w-full items-center justify-start gap-2",a),...l})});d.displayName=r.aV.displayName;let c=i.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,n.jsx)(r.xz,{ref:t,className:(0,s.cn)("inline-flex h-8 items-center justify-center gap-2 whitespace-nowrap rounded-full px-4 py-1.5 text-sm font-medium text-neutral-200 transition-all focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-neutral-30 data-[state=active]:text-neutral-900 dark:text-neutral-40 dark:data-[state=active]:bg-neutral-700 dark:data-[state=active]:text-neutral-0",a),...l})});c.displayName=r.xz.displayName;let u=i.forwardRef((e,t)=>{let{className:a,children:i,isActive:o=!1,layoutId:d,activeProps:c={},...u}=e,{className:m,...p}=c;return(0,n.jsxs)(r.xz,{ref:t,className:(0,s.cn)("relative inline-flex h-8 items-center justify-center gap-2 whitespace-nowrap rounded-full px-4 py-1.5 text-sm font-medium text-neutral-200 transition-all focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50 dark:text-neutral-40",a),...u,children:[o&&(0,n.jsx)(l.E.span,{layoutId:d,className:(0,s.cn)("absolute inset-0 rounded-xl bg-neutral-0 text-neutral-900 shadow-[0px_3px_1px_0px_rgba(0,_0,_0,_0.04),_0px_3px_8px_0px_rgba(0,_0,_0,_0.12)] dark:bg-neutral-800 dark:text-neutral-0",m),transformTemplate:(e,t)=>{var a;let[,n]=null!==(a=t.match(/translate3d\(([^,]+),/))&&void 0!==a?a:[];return n?"translateX(".concat(n,")"):t},transition:{type:"spring",bounce:.2,duration:.6},...p}),i]})});u.displayName=r.xz.displayName;let m=i.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,n.jsx)(r.VY,{ref:t,className:a,...l})});m.displayName=r.VY.displayName},32287:function(e,t,a){a.d(t,{s:function(){return _},N:function(){return I}});var n=a(57437),r=a(2265),l=a(24528);let i=(0,a(12218).j)("relative flex w-full transition-colors duration-500 max-w-[732px] flex-col rounded-[20px] p-3 shadow-[0px_10px_20px_0px_rgba(0,_0,_0,_0.08)] aria-disabled:pointer-events-none aria-disabled:opacity-90",{variants:{darkVariant:{"dark-v1":"dark:bg-neutral-800","dark-v2":"dark:bg-neutral-900"},lightVariant:{"light-v1":"bg-neutral-0"}},defaultVariants:{darkVariant:"dark-v1",lightVariant:"light-v1"}});var s=a(41926),o=a(38491),d=a(52266),c=a(50110),u=a(8127),m=a(76015),p=a(82442),x=a(19422);let g=Object.values(s.pI);var h=a(34468),f=a(13495),v=a(10733),b=a(47802),j=a(81149),y=a(79954);let N=r.forwardRef((e,t)=>{let{children:a,className:r,lightVariant:s,darkVariant:o,...d}=e;return(0,n.jsx)("div",{ref:t,className:(0,l.cn)(i({lightVariant:s,darkVariant:o,className:r})),...d,children:a})});N.displayName="PromptWrapper";let k=e=>{let{footerEnd:t}=e;return t?(0,n.jsx)("div",{className:"flex items-center gap-2",children:t}):null},w=e=>{let{footerStart:t}=e;return t?(0,n.jsx)("div",{className:"flex items-center gap-2",children:t}):null},I={Wrapper:N,TextArea:e=>{let{formHook:t,name:a,textAreaProps:l,generateBtnRef:i,containersProps:s,customRandomPrompts:o}=e,[d,c]=(0,r.useState)(!1),u=(0,v.Td)()(e=>e.randomPromptLibrary),m=o||u;return(0,n.jsxs)("div",{className:"relative h-[76px] w-full rounded-[10px]",...s,children:[(0,n.jsx)(y.K,{size:"xl",darkVariant:"dark-v2",lightVariant:"light-v1",className:"h-full w-full resize-none p-2 pl-3 indent-[38px] text-sm",placeholder:"Try something like “A cat flying in the sky wearing superman suit”",onScroll:e=>c(e.currentTarget.scrollTop>=10),onKeyDown:e=>{if("Enter"===e.key&&(null==i?void 0:i.current)){var t;null==i||null===(t=i.current)||void 0===t||t.click()}},...t.register(a),...l}),!d&&(0,n.jsxs)("div",{className:"absolute left-3 top-2 mr-2 flex items-center gap-2 text-neutral-900 dark:text-neutral-0",children:[(0,n.jsx)(j.z,{size:"none",variant:"none",type:"button",className:"h-5 w-5",onClick:()=>{let e=null==m?void 0:m.paragraphs;if(!e)return;let n=(0,b.EN)(e.length),r=e[n];t.setValue(a,r.text,{shouldDirty:!0,shouldValidate:!0})},disabled:null==l?void 0:l.disabled,children:(0,n.jsx)(f.T$,{className:"h-4 w-4"})}),(0,n.jsx)("div",{className:"h-2 w-0.5 rounded-sm bg-neutral-50 opacity-30 dark:bg-neutral-0"})]})]})},Footer:e=>{let{footerStart:t,footerEnd:a,footerClassName:r}=e;return(0,n.jsxs)("div",{className:(0,l.cn)("mt-4 flex h-9 justify-between",r),children:[(0,n.jsx)(w,{footerStart:t}),(0,n.jsx)(k,{footerEnd:a})]})},Tabs:e=>{let{tabs:t,onTabChange:a,selectedTab:r}=e;return(0,n.jsxs)(h.u2,{className:"w-full",value:r,onValueChange:e=>a(e),children:[(0,n.jsx)(h.I8,{className:"flex h-12 flex-shrink-0 items-start gap-4 self-stretch pl-2",children:t.map(e=>(0,n.jsx)(h.pW,{value:e.value,className:"p-0 text-neutral-200 data-[state=active]:text-neutral-900 dark:text-neutral-60 dark:data-[state=active]:text-neutral-0",layoutId:"prompt-tabs",isActive:r===e.value,activeProps:{className:"h-0.5 w-full shadow-none top-auto bg-neutral-900 dark:bg-neutral-0 rounded-none"},children:(0,n.jsx)("div",{className:"relative",children:e.label})},e.value))}),t.map(e=>(0,n.jsx)(h.sR,{value:e.value,className:"hide-scrollbar h-full max-h-[calc(100vh-104px-52px-16px-48px-40px-16px)] overflow-hidden overflow-y-auto",children:e.content},e.value))]})},UploadImage:e=>{let{image:t,croppedImage:a,aspectRatios:l=g,onDeleteImage:i=()=>{},onAddResult:s,onSelectImage:h}=e,{isModalOpen:f,setIsModalOpen:v,openModal:b}=(0,x.d)(!1),j=!!a,[y,N]=(0,r.useState)(),[k,w]=(0,r.useState)(t),[I,_]=(0,r.useState)(l[0]),[C,T]=I.value.split(":"),E=Number(C)/Number(T),A=!(null==y?void 0:y.width)&&!(null==y?void 0:y.height),S=()=>{t&&URL.revokeObjectURL(t),i()},z=e=>{v(e),w(null)},R=async()=>{try{if(!y||!k)throw Error("Please select an image and crop it");let e=await (0,u.cA)(y,k,E);s(e,I.value),z(!1)}catch(e){p.Am.error("An error occurred")}},D=async e=>{if(e.target.files&&e.target.files.length>0){S();let t=await (0,u.tw)(e.target.files[0]);h(t),w(t),b()}};return(0,n.jsxs)(n.Fragment,{children:[j?(0,n.jsx)(d.f,{currentImage:null!=a?a:"",handleSelectFile:D,handleDeleteImage:S,showCrop:!1,className:"h-[280px] w-full rounded-[12px]"}):(0,n.jsx)(c.X,{handleSelectFile:D,placeholder:"Upload image to generate (JPEG, PNG)",size:"promptBox",variant:"v4"}),(0,n.jsx)(m.$E,{open:f,onOpenChange:z,children:(0,n.jsx)(o.f,{crop:y,setCrop:N,addResult:R,selectedFile:null!=k?k:"",aspectRatios:l,hasNoCropSelection:A,selectedAspectRatio:I,setSelectedAspectRatio:_})})]})}},_=r.forwardRef((e,t)=>{let{className:a,footerStart:r,footerEnd:l,lightVariant:i,darkVariant:s,generateBtnRef:o,promptTextAreaProps:d,footerClassName:c,customRandomPrompts:u,...m}=e;return(0,n.jsxs)(I.Wrapper,{lightVariant:i,darkVariant:s,className:a,ref:t,...m,children:[(0,n.jsx)(I.TextArea,{...d,generateBtnRef:o,customRandomPrompts:u}),(0,n.jsx)(I.Footer,{footerStart:r,footerEnd:l,footerClassName:c})]})})},56570:function(e,t,a){a.d(t,{f:function(){return h}});var n=a(57437),r=a(39343),l=a(64756),i=a(2265),s=a(1255),o=a(55872),d=a(24019),c=a(32057),u=a(13495),m=a(43664),p=a(81149),x=a(24528);let g=(0,i.forwardRef)((e,t)=>{let{name:a,value:r,disabled:g,isLoading:h,onCancel:f,generateBtnId:v,pseudoDisabled:b,shouldOverrideExpand:j,toolComponents:y,tokenCost:N,isRenderedInsideCanvasModal:k=!1,onGenerateCallback:w=()=>{},containerProps:I={},..._}=e,C=(0,i.useId)(),[T,E]=(0,i.useState)(!1),A=g||!r||(null==r?void 0:r.length)===0,{activeTool:S}=(0,c.B)(),{className:z,...R}=I,D=k||T||j||r.length>0?"expanded":"normal";return(0,n.jsxs)("label",{htmlFor:C,"data-state":D,onFocus:()=>E(!0),onMouseEnter:()=>E(!0),onBlur:e=>E(e.currentTarget.matches(":hover")),onMouseLeave:()=>{var e;(null===(e=document.activeElement)||void 0===e?void 0:e.id)!==C&&E(!1)},className:(0,x.cn)("hide-scrollbar prompt-wrapper group flex w-full max-w-[1024px] cursor-text justify-center rounded-[20px] bg-neutral-0 p-2.5 pl-6 shadow-[0px_10px_20px_0px_rgba(0,0,0,0.05)] ring-inset ring-primary-500 transition-all duration-500 focus-within:ring-1 data-[state=expanded]:h-auto data-[state=expanded]:flex-col  data-[state=normal]:flex-col data-[state=expanded]:items-end data-[state=normal]:items-center data-[state=expanded]:overflow-scroll dark:bg-neutral-900 dark:shadow-none dark:ring-primary-400",{"ring-1":j,"flex h-[122px] max-h-[122px] min-h-[122px] flex-col items-center justify-end gap-3 overflow-hidden rounded-xl pb-2 pl-3 pr-2 pt-3 dark:bg-neutral-800 dark:focus-within:!bg-neutral-800 dark:hover:bg-neutral-700":k,"relative z-50 h-[242px] max-h-[242px] min-h-[242px] rounded-none rounded-bl-xl rounded-br-xl border-t ring-0 dark:border-neutral-700 dark:ring-0 dark:hover:bg-neutral-800":k&&j},z),...R,children:[(0,n.jsx)(l.fC,{type:"single",value:D,className:"flex w-full flex-1",children:(0,n.jsx)(l.ck,{value:"expanded",className:"w-full",children:(0,n.jsx)(l.VY,{className:"group/og-accordion w-full overflow-hidden text-sm transition-all data-[state=open]:animate-accordion-down",children:(0,n.jsx)(s.Z,{id:C,ref:t,name:a,minRows:1,value:r,onKeyDown:e=>{if(h){e.preventDefault();return}if("Enter"===e.key&&!e.shiftKey){var t,a;if(e.preventDefault(),A||h)return;m.c.triggerEventUsingElementId(v,void 0,{[d.L.TOOL_USED]:S}),w(),null===(a=e.currentTarget)||void 0===a||null===(t=a.form)||void 0===t||t.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))}},placeholder:"Describe what you want to see with phrases, and separate them with commas.",maxRows:k&&!j?3:7,className:(0,x.cn)("scrollbar__variant2 mb-auto w-full resize-none border-none !bg-inherit bg-neutral-0 pl-0 text-sm font-medium leading-5 text-neutral-900 placeholder-neutral-200 outline-none transition-colors duration-500  focus:ring-0  dark:bg-neutral-900 dark:text-neutral-0 dark:placeholder-neutral-80",{"focus:placeholder-neutral-900 focus:placeholder-transparent group-data-[state=expanded]:placeholder-neutral-900 dark:group-data-[state=expanded]:placeholder-neutral-0":!k,"p-0 pr-1 text-xs/[18px] font-normal dark:focus:!placeholder-neutral-80 dark:group-hover:placeholder-neutral-0":k,"dark:group-hover:bg-neutral-800":k&&j}),..._})})})}),(0,n.jsxs)("div",{className:(0,x.cn)("mt-auto flex w-full items-center justify-end gap-2",{"mt-0 h-9":k}),children:[(0,n.jsx)("label",{htmlFor:C,className:(0,x.cn)("w-full border-none p-0 text-sm font-medium leading-5 text-neutral-200 outline-none transition-all duration-0 focus:text-neutral-900 focus:text-transparent focus:ring-0 group-data-[state=expanded]:opacity-0 group-data-[state=normal]:opacity-100 dark:bg-neutral-900 dark:text-neutral-80",{hidden:k}),children:"Describe what you want to see with phrases, and separate them with commas."}),(0,n.jsx)("div",{"data-state":D,className:(0,x.cn)("mr-0 flex items-center justify-center gap-2 opacity-100 data-[state=normal]:mr-2 data-[state=normal]:opacity-0",{"gap-1":k}),children:y}),(0,n.jsx)("div",{"data-state":D,className:"mr-0 flex items-center justify-center data-[state=expanded]:mr-2 data-[state=expanded]:hidden",children:(0,n.jsx)(p.z,{variant:"ghost-secondary",size:"icon-xl",asChild:!0,children:(0,n.jsx)("div",{children:(0,n.jsx)(u.Rd,{className:"h-6 w-6"})})})}),(0,n.jsxs)(o.D,{isLoading:null!=h&&h,className:(0,x.cn)("h-10 min-w-[141px]",{"h-9":k}),children:[(0,n.jsx)(o.D.Button,{credits:N,disabled:b,onClick:e=>{if(h){e.preventDefault();return}w(),m.c.triggerEventUsingElementId(v,void 0,{[d.L.TOOL_USED]:S})},size:k?"sm":"md"}),(0,n.jsx)(o.D.Cancel,{handleCancel:f,size:k?"sm":"md"})]})]})]})});g.displayName="GenericPromptInputAlt";let h=e=>{let{formHook:{control:t},name:a,disabled:l=!1,...i}=e;return(0,n.jsx)(r.Qr,{control:t,name:a,render:e=>{let{field:{ref:t,...a}}=e;return(0,n.jsx)(g,{...a,...i,ref:t,disabled:l})}})}},46409:function(e,t,a){var n,r;a.d(t,{R:function(){return n}}),(r=n||(n={})).LAST_EDITED="lastEdited",r.OLDEST_FIRST="oldestFirst",r.NEWEST_FIRST="newestFirst"},55365:function(e,t,a){a.d(t,{B:function(){return d}});var n=a(57437),r=a(2265),l=a(52890),i=a.n(l),s=a(32287),o=a(24528);let d=e=>{let{className:t,isDraggingAllowed:a=!0,customRandomPrompts:l,...d}=e,c=(0,r.useRef)(null);return(0,n.jsx)(i(),{disabled:!a,nodeRef:c,bounds:"body",onStart:e=>{if(e.target!==c.current)return!1},children:(0,n.jsx)(s.s,{ref:c,className:(0,o.cn)("fixed bottom-4 mx-auto cursor-move",{"cursor-default":!a},t),...d,customRandomPrompts:l})})}},40736:function(e,t,a){a.d(t,{G:function(){return o}});var n=a(57437);a(2265);var r=a(83359),l=a(54361),i=a(81149),s=a(82442);let o=e=>{let{imageId:t,children:a,handleDeleteImage:o,customModelControls:d,modalContainer:c=document.body}=e,u=(0,l.d)(),{isModalOpen:m,setIsModalOpen:p}=null!=d?d:u,x=async()=>{try{o(t),p(!1)}catch(e){console.error(e),s.Am.error("An error occurred")}};return(0,n.jsxs)(r.$E,{open:m,onOpenChange:p,children:[a&&(0,n.jsx)(r.$c,{asChild:!0,children:a}),(0,n.jsxs)(r.Yk,{container:null!=c?c:void 0,className:"w-[460px] min-w-[460px] max-w-[460px]",children:[(0,n.jsx)(r.Zh,{}),(0,n.jsx)(r._w,{children:(0,n.jsx)(r.mp,{children:"Delete Result"})}),(0,n.jsx)(r.DQ,{className:"p-6 pt-[18px]",children:(0,n.jsx)("p",{className:"text-sm",children:"On confirmation result will be permanently deleted. Are you sure you want to delete this image?"})}),(0,n.jsx)(r.vb,{children:(0,n.jsx)(i.z,{type:"submit",onClick:x,children:"Delete result"})})]})]})}},96521:function(e,t,a){a.d(t,{c:function(){return S}});var n=a(57437),r=a(2265),l=a(41926),i=a(8662),s=a(6625),o=a(24528),d=a(13495);let c=e=>{let{onClick:t}=e;return(0,n.jsx)("button",{"aria-label":"Next Button",className:"absolute right-4 top-1/2 z-50 rounded-xl bg-neutral-0 bg-opacity-[0.24] p-2.5 outline-none backdrop-blur-lg transition-all duration-500 hover:bg-neutral-0 hover:bg-opacity-[0.44]",onClick:t,type:"button",children:(0,n.jsx)(d.aK,{className:"text-neutral-900 dark:text-neutral-0"})})},u=e=>{let{onClick:t}=e;return(0,n.jsx)("button",{"aria-label":"Previous Button",className:"absolute left-4 top-1/2 z-50 rotate-180 rounded-xl bg-neutral-0 bg-opacity-[0.24] p-2.5 outline-none backdrop-blur-lg transition-all duration-500 hover:bg-opacity-[0.44]",onClick:t,type:"button",children:(0,n.jsx)(d.aK,{className:"text-neutral-900 dark:text-neutral-0"})})},m=e=>{let{onClick:t,isSelected:a,index:l}=e,i=(0,r.useRef)(null);return(0,r.useEffect)(()=>{a&&setTimeout(()=>{var e;null===(e=document.getElementById("image-carousel-indicator-".concat(l)))||void 0===e||e.scrollIntoView({behavior:"smooth",inline:"center"})},0)},[l,a]),(0,n.jsx)("button",{ref:i,id:"image-carousel-indicator-".concat(l),"aria-label":"Image#".concat(l),type:"button",onClick:t,className:(0,o.cn)("h-2 min-h-2 w-[18px] min-w-[18px] rounded-full bg-neutral-0 bg-opacity-[0.24] opacity-100 backdrop-blur-[6px]",{"bg-opacity-100":a})})},p=e=>{let{images:t,className:a="",currentImgIndex:d,onChange:p,aspectRatio:x,loaderVariant:g="skeleton"}=e,h=(0,r.useRef)(null),f=l.IK[x];return(0,r.useEffect)(()=>{var e;null===(e=h.current)||void 0===e||e.forceFocus()},[]),(0,n.jsx)("div",{className:"grid flex-1 place-items-center overflow-hidden",children:(0,n.jsx)(i.lr,{infiniteLoop:!0,ref:h,useKeyboardArrows:!0,showStatus:!1,showThumbs:!1,className:"overflow-hidden",selectedItem:d,showIndicators:t.length>1,renderArrowNext:e=>t.length>1?(0,n.jsx)(c,{onClick:e}):null,renderArrowPrev:e=>t.length>1?(0,n.jsx)(u,{onClick:e}):null,onChange:e=>{null==p||p(e)},renderIndicator:(e,t,a)=>(0,n.jsx)(m,{onClick:e,isSelected:t,index:a}),children:t.map(e=>e.isLoading?(0,n.jsx)("div",{className:"grid size-full place-items-center",children:(0,n.jsx)("div",{className:(0,o.cn)("w-auto",f.aspectRatio),style:{minHeight:"".concat(1.8*f.height,"px")},children:(0,n.jsx)(s.S3,{variant:g})},e.id)},e.id):(0,n.jsx)("div",{className:"size-full",children:(0,n.jsx)("img",{className:(0,o.cn)("size-full object-contain",a),src:e.isUpscaled?e.upscaleSrc:e.src,alt:e.id})},e.id))})})};var x=a(40736),g=a(12600),h=a(54361),f=a(81149),v=a(95401);let b=e=>{let{collection:t,currentImgIndex:a,handleDeleteImage:r,setCurrentImgIndex:l,closeFullViewModal:i}=e,s=t.images[a],{downloadImage:o}=(0,g.q)(s),c=(0,h.d)();return(0,n.jsxs)("div",{className:"flex h-[68px] items-center justify-end gap-1 border-t border-neutral-30 p-3.5 dark:border-neutral-700",children:[(0,n.jsx)(x.G,{imageId:s.id,customModelControls:c,handleDeleteImage:e=>{1===t.images.length?i():0===a?l(0):a===t.images.length-1&&l(a-1),r(e)}}),(0,n.jsx)(v.WithGenericTooltip,{content:"Delete",children:(0,n.jsxs)(f.z,{type:"button",size:"icon-xl",variant:"ghost-secondary",className:"hover:text-error-500",onClick:c.openModal,children:[(0,n.jsx)(d.XH,{className:"stroke-[1.5]"}),(0,n.jsx)("span",{className:"sr-only",children:"Delete"})]})}),(0,n.jsx)(v.WithGenericTooltip,{content:"Download",children:(0,n.jsxs)(f.z,{type:"button",size:"icon-xl",variant:"ghost-secondary",onClick:o,children:[(0,n.jsx)(d._8,{className:"stroke-[1.75]"}),(0,n.jsx)("span",{className:"sr-only",children:"Download Image"})]})})]})},j=e=>{let{children:t,className:a=""}=e;return(0,n.jsx)("div",{className:(0,o.cn)("flex flex-col gap-[18px] rounded-xl border border-neutral-30 bg-neutral-20 p-3.5 text-left dark:border-neutral-700 dark:bg-neutral-800",a),children:t})};var y=a(7259);let N=e=>{let{settingName:t,Icon:a,value:r,onChange:l}=e;return(0,n.jsxs)("div",{className:"flex h-6 items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(a,{className:"text-primary-600"}),(0,n.jsx)("p",{className:"font-semibold text-neutral-900 dark:text-neutral-0",children:t})]}),(0,n.jsx)("div",{children:(0,n.jsx)(y.L,{checked:r,onCheckedChange:l,size:"md"})})]})},k=e=>{var t;let{collection:a,currentImgIndex:r,handleUpscale:l}=e,i=a.images[r];return(0,n.jsx)(j,{children:(0,n.jsx)(N,{value:null!==(t=i.isUpscaled)&&void 0!==t&&t,onChange:()=>{i.isLoading||l(i.id)},Icon:d.yW,settingName:"Upscale"})})};var w=a(91606),I=a(82442),_=a(8792);let C=e=>{let{prompt:t}=e,[,a]=(0,w.m9)();return(0,n.jsxs)(j,{className:"max-h-[230px] p-0 py-3.5",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 px-3.5",children:[(0,n.jsx)("h2",{className:"text-sm font-bold text-neutral-900 dark:text-neutral-0",children:"Prompt"}),(0,n.jsx)(v.WithGenericTooltip,{content:"Copy",children:(0,n.jsx)(f.z,{size:"icon-sm",variant:"ghost-secondary",className:"bg-neutral-30 dark:bg-neutral-600",onClick:()=>{a(t).then(()=>I.Am.success("Prompt copied to clipboard!"))},children:(0,n.jsx)(_.TI,{className:"size-[18px] stroke-[2]"})})})]}),(0,n.jsx)("div",{className:"max-h-[160px] overflow-scroll overflow-x-hidden px-3.5",children:(0,n.jsx)("p",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-0",children:t})})]})},T=e=>{let{title:t,value:a="-",className:r="",isCopyable:l=!1}=e,[,i]=(0,w.m9)();return(0,n.jsxs)("div",{className:(0,o.cn)("flex flex-col gap-1",r),children:[(0,n.jsxs)("h3",{className:"flex items-center justify-start gap-1 text-sm font-medium text-neutral-400 dark:text-neutral-60",children:[t,l&&(0,n.jsx)(v.WithGenericTooltip,{content:"Copy",children:(0,n.jsx)("button",{type:"button","aria-label":"Copy to clipboard",onClick:()=>{i("".concat(a)).then(()=>I.Am.success("".concat(t," copied to clipboard")))},children:(0,n.jsx)(d.kd,{className:"text-neutral-400 dark:text-neutral-60"})})})]}),(0,n.jsx)("p",{className:"truncate text-sm font-medium text-neutral-900 dark:text-neutral-0",children:a})]})},E=e=>{var t,a;let{collection:r,currentImgIndex:l,getSettingItems:i,setCurrentImgIndex:s}=e,[,o]=(0,w.m9)(),{settings:c}=r,u=r.images[l],m=i(u),p={title:"Negative Prompt",value:c.negative_prompt||void 0,isCopyable:(null!==(a=null===(t=c.negative_prompt)||void 0===t?void 0:t.length)&&void 0!==a?a:0)>0},x=e=>{let{images:t}=r,a=t.findIndex(t=>t.id===e);-1!==a&&s(a)};return(0,n.jsxs)(j,{className:"box-border w-[402px] gap-5 p-0 py-3.5",children:[(0,n.jsx)("h2",{className:"px-3.5 text-sm font-bold text-neutral-900 dark:text-neutral-0",children:"Settings"}),(0,n.jsxs)("div",{className:"flex flex-col gap-[18px]",children:[(0,n.jsx)("div",{className:"grid grid-cols-3 gap-x-3 gap-y-[18px] pl-3.5 pr-1",children:m.map(e=>(0,n.jsx)(T,{...e},e.title))}),"isVariation"in u&&u.isVariation&&(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"mb-1 flex items-center justify-start pl-3.5 text-sm font-medium text-neutral-400 dark:text-neutral-60",children:"Variated From"}),(0,n.jsxs)("div",{tabIndex:0,role:"button",className:"group/og-image relative mt-0 pl-3.5",onClick:()=>x(u.originalImageId),onKeyDown:()=>x(u.originalImageId),children:[(0,n.jsx)("img",{alt:"original-variant",src:u.originalSrc,className:"h-20 w-20 rounded-[11.8px]"}),(0,n.jsx)("div",{className:"absolute inset-0 left-3.5 flex h-20 w-20 items-center justify-center rounded-[11.8px] bg-black bg-opacity-60 opacity-0 transition-all duration-500 group-hover/og-image:opacity-100",children:(0,n.jsx)("span",{className:"text-base font-normal text-neutral-0",children:"Original"})})]})]}),(0,n.jsxs)("div",{className:"flex w-full flex-col gap-1",children:[(0,n.jsxs)("h3",{className:"flex items-center justify-start gap-1 pl-3.5 text-sm font-medium text-neutral-400 dark:text-neutral-60",children:["Negative Prompt",p.isCopyable&&(0,n.jsx)(v.WithGenericTooltip,{content:"Copy",children:(0,n.jsx)("button",{type:"button","aria-label":"Copy Negative Prompt",onClick:()=>{o("".concat(p.value)).then(()=>I.Am.success("".concat(p.title," copied to clipboard")))},children:(0,n.jsx)(d.kd,{className:"text-neutral-400 dark:text-neutral-60"})})})]}),(0,n.jsx)("div",{className:"max-h-20 overflow-scroll overflow-x-hidden pl-3.5",children:(0,n.jsx)("p",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-0",children:p.isCopyable?p.value:"-"})})]})]})]})},A=e=>{var t;let{collection:a,currentImgIndex:r,handleUpscale:l,handleDeleteImage:i,setCurrentImgIndex:s,closeFullViewModal:o,getSettingItems:d}=e;return(0,n.jsxs)("div",{className:"flex h-full w-[430px] min-w-[430px] flex-col bg-neutral-0 dark:bg-neutral-900",children:[(0,n.jsxs)("div",{className:"mt-12 flex flex-1 flex-col gap-[18px] p-3.5 pt-4",children:[(0,n.jsx)(C,{prompt:null!==(t=a.settings.prompt)&&void 0!==t?t:"-"}),(0,n.jsx)(k,{collection:a,handleUpscale:l,currentImgIndex:r}),(0,n.jsx)(E,{collection:a,getSettingItems:d,currentImgIndex:r,setCurrentImgIndex:s})]}),(0,n.jsx)(b,{collection:a,currentImgIndex:r,handleDeleteImage:i,setCurrentImgIndex:s,closeFullViewModal:o})]})},S=e=>{let{collection:t,handleUpscale:a,loaderVariant:i,getSettingItems:s,initialImageIndex:o,handleDeleteImage:d,closeFullViewModal:c}=e,[u,m]=(0,r.useState)(o),x=l.Py[t.settings.aspect_ratio];return(0,n.jsxs)("div",{className:"flex h-screen w-screen",children:[(0,n.jsx)(p,{className:x,images:t.images,loaderVariant:i,onChange:m,currentImgIndex:u,aspectRatio:t.settings.aspect_ratio}),(0,n.jsx)(A,{collection:t,handleUpscale:a,currentImgIndex:u,getSettingItems:s,handleDeleteImage:d,closeFullViewModal:c,setCurrentImgIndex:m})]})}},69085:function(e,t,a){a.d(t,{h:function(){return d}});var n=a(57437),r=a(59226),l=a(90761),i=a(2265),s=a(13495),o=a(81149);let d=e=>{let{isFullViewOpen:t,children:a,...d}=e;return(0,n.jsx)(r.u,{appear:!0,show:t,as:i.Fragment,children:(0,n.jsxs)(l.V,{as:"div",className:"relative z-10",onClose:d.closeFullViewModal,children:[(0,n.jsx)(r.u.Child,{as:i.Fragment,leaveTo:"opacity-0",enterFrom:"opacity-0",enterTo:"opacity-100",leaveFrom:"opacity-100",leave:"ease-in duration-200",enter:"ease-out duration-300",children:(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-md"})}),(0,n.jsxs)("div",{className:"fixed inset-0",children:[(0,n.jsxs)(o.z,{type:"button",size:"icon-xl",variant:"ghost-secondary",className:"absolute right-3.5 top-1.5 z-20 ml-auto text-neutral-900 dark:text-neutral-0",children:[(0,n.jsx)(s.DX,{}),(0,n.jsx)("span",{className:"sr-only",children:"Close modal"})]}),(0,n.jsx)("div",{className:"hide-scrollbar flex h-full items-center justify-center overflow-y-auto bg-neutral-30 text-center dark:bg-neutral-800",children:(0,n.jsx)(r.u.Child,{as:i.Fragment,leaveTo:"opacity-0",enterTo:"opacity-100",enterFrom:"opacity-0",leaveFrom:"opacity-100",leave:"ease-in duration-200",enter:"ease-out duration-300",children:(0,n.jsx)(l.V.Panel,{children:a})})})]})]})})}},6625:function(e,t,a){a.d(t,{dk:function(){return p},S3:function(){return o}});var n=a(57437),r=a(24528);let l="rounded p-1 text-neutral-0 hover:bg-neutral-0 hover:bg-opacity-[0.24] h-8 w-8",i=e=>{let{children:t,className:a}=e;return(0,n.jsx)("div",{className:(0,r.cn)("absolute inline-flex flex-col items-center justify-center gap-1 rounded-lg bg-black bg-opacity-[0.34] p-1 opacity-0 backdrop-blur-sm transition-all duration-500 group-hover:opacity-100",a),children:t})};var s=a(34124);let o=e=>{let{variant:t="skeleton",className:a}=e;return"spinner"===t?(0,n.jsx)("div",{className:(0,r.cn)("flex size-full items-center justify-center bg-neutral-30 dark:bg-neutral-900",a),children:(0,n.jsx)(s.$,{className:"h-[50px] w-[50px] border-primary-400"})}):(0,n.jsx)("div",{className:(0,r.cn)("size-full animate-pulse rounded bg-neutral-20 dark:bg-neutral-700",a)})};var d=a(13495),c=a(81149),u=a(95401),m=a(12600);let p={Root:e=>{let{id:t,image:a,children:l,className:i,isFocused:s,loaderVariant:d,handleFullView:c,isLoading:u=!1}=e;return(0,n.jsx)("div",{className:(0,r.cn)("w-full",i),children:a&&!u?(0,n.jsxs)("div",{id:t,className:"group relative flex size-full flex-shrink-0 rounded",children:[(0,n.jsx)("img",{alt:t,src:a,className:(0,r.cn)("size-full rounded transition-all duration-100",{"border-2 border-primary-500":s})}),(0,n.jsx)("button",{type:"button",onClick:c,"aria-label":"Open Full View",className:"absolute inset-0"}),l]}):(0,n.jsx)(o,{variant:d})})},VariateIcon:e=>{let{className:t}=e;return(0,n.jsx)("div",{className:(0,r.cn)("absolute right-0 top-0 rounded-bl-lg bg-black bg-opacity-[0.24] p-1 text-neutral-0 opacity-100 transition-all duration-500 group-hover:opacity-0",t),children:(0,n.jsx)(d.lw,{className:"size-5 stroke-[1.5]"})})},ToolbarButtons:e=>{let{image:t,onDownload:a,handleDelete:r,handleFullView:s,isFullViewBtn:o=!0}=e,{downloadImage:p}=(0,m.q)(t);return(0,n.jsxs)(i,{className:"right-2 top-2",children:[(0,n.jsx)(u.WithGenericTooltip,{content:"Download",genericTooltipContentProps:{side:"left"},children:(0,n.jsxs)(c.z,{size:"none",variant:"none",className:l,onClick:async()=>{await p(),null==a||a()},children:[(0,n.jsx)(d._8,{className:"stroke-[1.5]"}),(0,n.jsx)("span",{className:"sr-only",children:"Download"})]})}),o&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.WithGenericTooltip,{content:"Full View",genericTooltipContentProps:{side:"left"},children:(0,n.jsxs)(c.z,{size:"none",variant:"none",onClick:s,className:l,children:[(0,n.jsx)(d.MZ,{className:"stroke-[1.5]"}),(0,n.jsx)("span",{className:"sr-only",children:"Full View"})]})}),(0,n.jsx)("span",{className:"m-1 h-[2px] w-[18px] rounded bg-neutral-0 bg-opacity-[0.24]"})]}),(0,n.jsx)(u.WithGenericTooltip,{content:"Delete",genericTooltipContentProps:{side:"left"},children:(0,n.jsxs)(c.z,{size:"none",variant:"none",onClick:r,className:l,children:[(0,n.jsx)(d.XH,{className:"stroke-[1.5]"}),(0,n.jsx)("span",{className:"sr-only",children:"Delete"})]})})]})},InteractionButtons:e=>{let{handleLike:t,handleDislike:a}=e;return(0,n.jsxs)(i,{className:"left-2 top-2",children:[(0,n.jsx)(u.WithGenericTooltip,{content:"Like",genericTooltipContentProps:{side:"left"},children:(0,n.jsxs)(c.z,{size:"none",variant:"none",onClick:t,className:l,children:[(0,n.jsx)(d.lb,{className:"stroke-[1.5]"}),(0,n.jsx)("span",{className:"sr-only",children:"Like"})]})}),(0,n.jsx)(u.WithGenericTooltip,{content:"Dislike",genericTooltipContentProps:{side:"left"},children:(0,n.jsxs)(c.z,{size:"none",variant:"none",onClick:a,className:l,children:[(0,n.jsx)(d.kZ,{className:"stroke-[1.5]"}),(0,n.jsx)("span",{className:"sr-only",children:"Dislike"})]})})]})},ManipulationButtons:e=>{let{handleUpscale:t,handleImageVariate:a,isUpscaled:s=!1,isImageVariateBtn:o=!0}=e;return(0,n.jsxs)(i,{className:"bottom-2 right-2",children:[(0,n.jsx)(u.WithGenericTooltip,{content:s?"Upscaled":"Upscale",genericTooltipContentProps:{side:"left"},children:(0,n.jsxs)(c.z,{size:"none",onClick:t,variant:s?"primary":"none",className:(0,r.cn)(l,{"bg-primary-500 hover:bg-primary-600 hover:bg-opacity-100 focus:bg-primary-500":s}),children:[(0,n.jsx)(d.yW,{className:"stroke-[1.5]"}),(0,n.jsx)("span",{className:"sr-only",children:"Upscale"})]})}),o&&(0,n.jsx)(u.WithGenericTooltip,{content:"Variate",genericTooltipContentProps:{side:"left"},children:(0,n.jsxs)(c.z,{size:"none",variant:"none",className:l,onClick:a,children:[(0,n.jsx)(d.lw,{className:"h-6 w-6 stroke-[1.5]"}),(0,n.jsx)("span",{className:"sr-only",children:"Variate"})]})})]})},OriginalImageThumbnail:e=>{let{image:t,className:a,handleClick:l}=e;return(0,n.jsxs)("div",{tabIndex:0,role:"button",onClick:l,onKeyDown:l,className:(0,r.cn)("group/og-image absolute bottom-2 left-2 overflow-hidden rounded-lg border border-neutral-0/[0.24] opacity-0 transition-all duration-500 group-hover:opacity-100",a),children:[(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center rounded-lg bg-black bg-opacity-60 opacity-0 transition-all duration-500 group-hover/og-image:opacity-100",children:(0,n.jsx)("span",{className:"text-base font-normal text-neutral-0",children:"Original"})}),t&&(0,n.jsx)("img",{src:t,alt:"Original",className:"size-full rounded-lg object-cover"})]})}}},5641:function(e,t,a){a.d(t,{o:function(){return g}});var n=a(57437),r=a(16463),l=a(63218),i=a(60566),s=a(13495),o=a(10733),d=a(81750),c=a(47802),u=a(53574),m=a(81149),p=a(24528);let x={[l.H7.FROM_TEXT]:i.r.TEXT_TO_IMAGE_RANDOM_BTN,[l.H7.IMAGE_REMIX]:i.r.IMAGE_REMIX_RANDOM_BTN},g=e=>{let{name:t,formHook:a,customRandomPrompts:l,isRenderedInsideCanvasModal:i=!1}=e,g=(0,r.usePathname)(),h=(0,d.m8)()(e=>e.user),f=(0,o.Td)()(e=>e.randomPromptLibrary),v=l||f;return(0,n.jsx)(m.z,{type:"button",variant:"ghost-secondary",onClick:e=>{var n;e.preventDefault();let r=null==v?void 0:v.paragraphs;if(!r)return;let l=(0,c.EN)(r.length),i=r[l];a.setValue(t,i.text),a.setValue("randomPromptClicked",!0),x[g]&&(0,u.iC)(x[g],null!==(n=null==h?void 0:h.email)&&void 0!==n?n:"")},size:i?"icon-lg":"icon-xl",children:(0,n.jsx)(s.Gb,{className:(0,p.cn)("h-6 w-6 stroke-[1.5]",{"h-[18px] w-[18px]":i})})})}},37079:function(e,t,a){a.d(t,{w:function(){return O}});var n=a(57437),r=a(16463),l=a(2265),i=a(55872),s=a(56570),o=a(63218),d=a(60566),c=a(32057),u=a(55365),m=a(54361),p=a(80163),x=a(81750),g=a(50473),h=a(53574),f=a(24528),v=a(5641),b=a(39343),j=a(27271),y=a(13495),N=a(81149),k=a(78764),w=a(34468),I=a(10733);let _=e=>{let{tag:t,isSelected:a,onClick:r,isRenderedInsideCanvasModal:l}=e;return(0,n.jsxs)("button",{type:"button",onClick:r,className:(0,f.cn)("flex justify-center rounded-[100px] border border-solid border-neutral-40 bg-neutral-0 px-3 py-2 text-xs font-medium text-neutral-900 hover:bg-neutral-20 dark:border-neutral-800 dark:bg-neutral-900 dark:text-neutral-0 dark:hover:border-neutral-700 dark:hover:bg-neutral-800",{"gap-1 border-primary-500 bg-primary-500 bg-opacity-[0.15] pr-2 hover:border-primary-500 hover:bg-primary-500 hover:bg-opacity-[0.15] dark:border-primary-400 dark:bg-primary-400 dark:bg-opacity-[0.15]  dark:hover:border-primary-400 dark:hover:bg-primary-400 dark:hover:bg-opacity-[0.15]":a,"border px-2.5 py-[5px] transition duration-500 dark:border-neutral-700 dark:bg-neutral-800 dark:bg-opacity-100 dark:hover:border-neutral-600 dark:hover:bg-neutral-700":l,"dark:border-primary-400 dark:bg-primary-400 dark:bg-opacity-[0.15] dark:hover:border-primary-400 dark:hover:bg-primary-400 dark:hover:bg-opacity-[0.15]":l&&a}),children:[(0,n.jsx)("p",{children:t}),a&&(0,n.jsx)("button",{"aria-label":"Remove tag",type:"button",className:"flex h-4 w-4 items-center justify-center rounded-full transition-colors duration-500 hover:bg-neutral-50 dark:hover:bg-neutral-600",children:(0,n.jsx)(y.DX,{className:"h-3 w-3"})})]})},C=["data-[top-scroll=true]:[mask-image:linear-gradient(0deg,#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]","data-[bottom-scroll=true]:[mask-image:linear-gradient(180deg,#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]","data-[top-bottom-scroll=true]:[mask-image:linear-gradient(#000,#000,transparent_0,#000_var(--scroll-shadow-size),#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]"],T=["data-[left-scroll=true]:[mask-image:linear-gradient(270deg,#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]","data-[right-scroll=true]:[mask-image:linear-gradient(90deg,#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]","data-[left-right-scroll=true]:[mask-image:linear-gradient(to_right,#000,#000,transparent_0,#000_var(--scroll-shadow-size),#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]"],E=(e,t)=>{var a,n;return t[e]&&null!==(n=null===(a=t[e])||void 0===a?void 0:a.size)&&void 0!==n?n:0},A=e=>{let{tags:t,setTags:a,sortTags:r,category:l,setCategory:i,isRenderedInsideCanvasModal:s=!1,onCloseModal:o=()=>{}}=e,d=(0,I.Td)()(e=>e.promptKeywords),c=(e,n)=>{var r,l,i;let s={...t};s[e]=s[e]||new Set,(null===(r=s[e])||void 0===r?void 0:r.has(n))?null===(l=s[e])||void 0===l||l.delete(n):s[e]=new Set([...Array.from(null!==(i=s[e])&&void 0!==i?i:[]),n]),a(s)};return(0,n.jsxs)(w.u2,{defaultValue:l,onValueChange:i,value:l,children:[(0,n.jsxs)("div",{className:(0,f.cn)("flex items-center justify-between border-b border-neutral-20 py-3 pl-6 dark:border-neutral-800",{"gap-2 p-2  pl-3 text-neutral-900 dark:border-neutral-700 dark:text-neutral-0":s}),children:[(0,n.jsx)(k.o,{orientation:"horizontal",hideScrollBar:!0,className:(0,f.cn)("hide-scrollbar",T.join(" "),{"max-w-[calc(524px-36px-16px-8px)] overflow-x-auto":s}),children:(0,n.jsx)(w.I8,{className:(0,f.cn)("flex flex-row gap-2",{"gap-1":s}),children:d.data.map(e=>{let a=E(e.name,t),r=l===e.name;return(0,n.jsxs)(w.aI,{value:e.name,className:(0,f.cn)("flex cursor-pointer flex-row rounded-[40px] px-4 py-[6px] text-center text-sm font-medium transition-colors",{"gap-2 pr-1.5":a>0,"px-3.5 py-[5px] text-xs":s}),children:[(0,n.jsx)("p",{children:e.name}),a>0&&(0,n.jsx)("p",{className:(0,f.cn)("flex items-center gap-2 rounded-[40px] bg-neutral-30 px-1.5 py-0.5 text-center text-xs font-medium text-neutral-900 transition-colors duration-500 dark:bg-neutral-700 dark:text-neutral-0",{"bg-neutral-0 dark:bg-neutral-800":r}),children:a})]},e.name)})})}),s&&(0,n.jsx)(N.z,{onClick:o,size:"sm",variant:"ghost-secondary",className:"p-[9px]",children:(0,n.jsx)(y.I0,{className:"h-[18px] w-[18px]"})})]}),d.data.map(e=>{var a,i;return(0,n.jsx)(w.sR,{className:(0,f.cn)("scrollbar__alt flex h-[174px] flex-row flex-wrap items-center gap-1 gap-y-2 overflow-y-auto px-6 py-[18px]",{hidden:l!==e.name,"m-0 h-[250px] max-w-[524px] gap-1.5 p-3 pr-2":s}),value:e.name,asChild:!0,children:(0,n.jsxs)(k.o,{className:C.join(" "),children:[null===(a=Array.from(null!==(i=r[e.name])&&void 0!==i?i:[]))||void 0===a?void 0:a.map(a=>{var r;return(0,n.jsx)(_,{tag:a,isSelected:(null===(r=t[e.name])||void 0===r?void 0:r.has(a))||!1,onClick:()=>c(e.name,a),isRenderedInsideCanvasModal:s},a)}),e.tags.filter(t=>{var a;return!(null===(a=r[e.name])||void 0===a?void 0:a.has(t))}).map(a=>{var r;return(0,n.jsx)(_,{tag:a,isSelected:(null===(r=t[e.name])||void 0===r?void 0:r.has(a))||!1,onClick:()=>c(e.name,a),isRenderedInsideCanvasModal:s},a)})]})},e.name)})]})},S=e=>Object.keys(e).reduce((t,a)=>{var n,r;return t+(null!==(r=null===(n=e[a])||void 0===n?void 0:n.size)&&void 0!==r?r:0)},0),z={[o.H7.FROM_TEXT]:d.r.TEXT_TO_IMAGE_TAGS_BTN,[o.H7.IMAGE_REMIX]:d.r.IMAGE_REMIX_TAGS_BTN},R=e=>{let{container:t,sideOffset:a,modalControl:i,variant:s="legacy",tagPopoverControlArgs:o,isRenderedInsideCanvasModal:d}=e,c=(0,r.usePathname)(),u=(0,x.m8)()(e=>e.user),{field:m}=(0,b.bc)(o),{value:p,onChange:g}=m,{isModalOpen:v,setIsModalOpen:k}=i,[w,I]=(0,l.useState)("Popular"),[_,C]=(0,l.useState)({});(0,l.useEffect)(()=>{if(!v){let e={};Object.keys(p).forEach(t=>{var a;let n=Array.from(null!==(a=p[t])&&void 0!==a?a:[]).sort();e[t]=new Set(n)}),C(e)}},[v,p]);let T=S(p);return(0,n.jsxs)(j.A6,{open:v,onOpenChange:k,children:[(0,n.jsx)(j.mu,{asChild:!0,children:(0,n.jsxs)(N.z,{variant:"ghost-secondary",className:(0,f.cn)("group/tag gap-2",{"bg-neutral-30 dark:bg-neutral-700":v,"h-9 gap-1.5 px-3 py-2":d&&T>0}),onClick:()=>{var e;z[c]&&(0,h.iC)(z[c],null!==(e=null==u?void 0:u.email)&&void 0!==e?e:"")},size:T>0?"md":d?"icon-lg":"icon-xl",children:[(0,n.jsx)(y.Dg,{className:(0,f.cn)("h-6 w-6",{"h-[18px] w-[18px]":d})}),T>0&&(0,n.jsx)("p",{className:(0,f.cn)("flex items-center gap-2 rounded-[40px] bg-neutral-30 px-1.5 py-0.5 text-center text-xs font-medium leading-[18px] text-neutral-900 transition-colors duration-500 group-hover/tag:bg-neutral-0 dark:bg-neutral-700 dark:text-neutral-0 dark:group-hover/tag:bg-neutral-800",{"bg-neutral-0 dark:bg-neutral-800":v,"px-1 py-0":d}),children:T})]})}),(0,n.jsx)(j.nE,{side:"top",align:"end",id:"something",container:t,alignOffset:d?-197:"v2"===s?-164:-207,sideOffset:d?198:a,className:(0,f.cn)("mb-2 flex max-w-5xl flex-wrap dark:bg-neutral-900",{"m-0 max-w-[526px] rounded-none rounded-tl-xl rounded-tr-xl data-[state=open]:h-[310px] data-[state=open]:animate-slideUp dark:bg-neutral-800":d,"max-w-[732px]":"v2"===s}),onInteractOutside:e=>{d&&e.preventDefault()},children:(0,n.jsx)(A,{category:w,tags:p,setTags:g,setCategory:I,sortTags:_,onCloseModal:()=>{k(!1)},isRenderedInsideCanvasModal:d})})]})},D={[o.H7.FROM_TEXT]:d.r.TEXT_TO_IMAGE_GENERATE_BTN,[o.H7.IMAGE_REMIX]:d.r.IMAGE_REMIX_GENERATE_BTN,[o.H7.CANVAS_TOOL]:{[g.A2.TextToImage]:d.r.CANVAS_TEXT_TO_IMAGE_GENERATE_BTN,[g.A2.ImageRemix]:d.r.CANVAS_IMAGE_REMIX_GENERATE_BTN}},O=e=>{let{promptFormHook:t,className:a,tagPopoverControlArgs:o,variant:d="legacy",randomPrompts:g}=e,b=(0,r.usePathname)(),j=(0,l.useRef)(null),[y,N]=(0,l.useState)("v2"===d?105:68),k=(0,m.d)(),w=(0,x.m8)()(e=>e.user),{activeAITool:I}=(0,p.f)(),{isRenderedInsideCanvas:_,modalContainer:C}=(0,c.B)(),T=t.isLoading,E=(0,l.useCallback)(()=>{k.closeModal();let e=D[b];if(e){var a,n;if("string"==typeof e){(0,h.iC)(e,null!==(a=null==w?void 0:w.email)&&void 0!==a?a:"",t.formHook.getValues());return}I&&e[I]&&(0,h.iC)(e[I],null!==(n=null==w?void 0:w.email)&&void 0!==n?n:"",t.formHook.getValues())}},[I,b,t.formHook,k,null==w?void 0:w.email]);return(0,n.jsxs)(n.Fragment,{children:["legacy"===d&&(0,n.jsx)("div",{className:(0,f.cn)("absolute inset-x-0 bottom-6 mx-auto w-full px-4",{"bottom-0 p-0":_,className:a}),children:(0,n.jsx)("div",{className:"mx-auto w-full max-w-5xl",children:(0,n.jsx)(s.f,{toolComponents:[(0,n.jsx)(R,{tagPopoverControlArgs:o,modalControl:k,sideOffset:y,isRenderedInsideCanvasModal:_,container:C},"TagPopover"),(0,n.jsx)(v.o,{isRenderedInsideCanvasModal:_,name:t.name,formHook:t.formHook,customRandomPrompts:g},"RandomPromptCTA")],shouldOverrideExpand:k.isModalOpen,isRenderedInsideCanvasModal:_,onHeightChange:e=>N(e+20),onGenerateCallback:E,...t})})}),"v2"===d&&(0,n.jsx)(u.B,{footerStart:(0,n.jsx)("div",{}),darkVariant:"dark-v2",className:a,isDraggingAllowed:!1,generateBtnRef:j,customRandomPrompts:g,promptTextAreaProps:{formHook:t.formHook,name:t.name},footerEnd:(0,n.jsxs)("div",{className:"relative flex gap-2",children:[(0,n.jsx)(R,{variant:"v2",sideOffset:y,container:C,modalControl:k,tagPopoverControlArgs:o,isRenderedInsideCanvasModal:_},"TagPopover"),(0,n.jsxs)(i.D,{className:"min-w-[141px]",isLoading:null!=T&&T,children:[(0,n.jsx)(i.D.Button,{ref:j,onClick:e=>{if(T){null==e||e.preventDefault();return}E()},disabled:t.disabled,credits:t.tokenCost,contentClassName:"justify-between gap-[7px]"}),(0,n.jsx)(i.D.Cancel,{handleCancel:t.onCancel})]})]})})]})};O.displayName="ResultViewCTA"},12600:function(e,t,a){a.d(t,{q:function(){return g}});var n=a(97019),r=a.n(n),l=a(2265),i=a(80732),s=a(96994),o=a(85951),d=a(81750),c=a(47802),u=a(14125),m=a(82442),p=a(6498);let x=e=>{let{id:t,isVariation:a,isUpscaled:n}=e,r="".concat(t);return n&&(r+="_upscaled"),a&&(r+="_variated"),"".concat(r,".png")},g=e=>{var t,a,n;let{id:g,src:h}=e,f=r()(e,"isVariation",!1),v=r()(e,"isUpscaled",!1),b=r()(e,"upscaleSrc",""),j=(0,d.m8)()(e=>e.subscription),{isSubscriptionActive:y}=(0,u.L)(j),N=(0,d.m8)()(e=>e.user),{data:k}=(0,p.j)(),{aggregator:w}=(0,o.O)(),{stripeSubscription:I}=(0,u.L)(j),_=null==I?void 0:null===(a=I.StripePrice)||void 0===a?void 0:null===(t=a.StripeProduct)||void 0===t?void 0:t.name,C=null==I?void 0:null===(n=I.StripePrice)||void 0===n?void 0:n.billingInterval,T=y?"Premium":"Free",{page:E,source:A}=(0,s.V)();return{downloadImage:(0,l.useCallback)(async()=>{let e=v?b:h;if(e)try{(0,c.Sv)(e,x({id:g,isUpscaled:v,isVariation:f})),w.log(i.H.export.withProperties({email:null==N?void 0:N.email,distinct_id:null==N?void 0:N.id,total_images_exported:1,tokens_remaining:null==k?void 0:k.platformSpecificTotal,user_plan:_,user_plan_period:C,export_all:!1,source:A,page_name:E,user_account_status:T}))}catch(e){m.Am.error(e.message)}},[null==N?void 0:N.id,E,A,g,h,null==N?void 0:N.email,_,C,T,null==k?void 0:k.platformSpecificTotal,v,b,f,w])}}},27229:function(e,t,a){a.d(t,{CR:function(){return f},Em:function(){return x},GG:function(){return h},HO:function(){return u},Qp:function(){return j},VI:function(){return m},_B:function(){return g},i4:function(){return v},ic:function(){return p},mX:function(){return y}});var n=a(2265),r=a(10733);let l=(e,t)=>{let a=(0,r.Td)()(t);return(0,n.useMemo)(()=>null==a?void 0:a.find(t=>t.id===e),[e,a])},i={id:-1,isPremium:!1,style_id:-1,style_name:"",style_thumb:"",init_neg_prompt:"",isPopular:!1,init_prompt:""},s={id:-1,isPremium:!1,model_id:-1,name:"",thumb:""},o={id:-1,afterImage:"",beforeImage:"",description:"",displayName:"",isPremium:!1,parameter:""},d={id:-1,name:"",lora_style:"",thumbnail:""},c={id:-1,name:"",lora_style:"",thumbnail:""},u=e=>{var t;return null!==(t=l(e,e=>e.styles))&&void 0!==t?t:i},m=e=>{var t;return null!==(t=l(e,e=>e.models))&&void 0!==t?t:s},p=e=>{var t;return null!==(t=l(e,e=>e.textToImageSviModels))&&void 0!==t?t:s},x=e=>{var t;return null!==(t=l(e,e=>e.imageRemixStyles))&&void 0!==t?t:i},g=e=>{var t;return null!==(t=l(e,e=>e.imageRemixModels))&&void 0!==t?t:s},h=e=>{var t;return null!==(t=l(e,e=>e.imageRemixControlModes))&&void 0!==t?t:o},f=e=>{var t;return null!==(t=l(e,e=>e.realtimeTextStyles))&&void 0!==t?t:d},v=e=>{var t;return null!==(t=l(e,e=>e.realtimeCanvasStyles))&&void 0!==t?t:c},b=(e,t,a)=>{let r=e(),l=t(),i=a.toLowerCase();return(0,n.useMemo)(()=>{var e;return r.find(e=>e.name.toLowerCase()===i)||(null!==(e=r.find(e=>e.name.toLowerCase().includes(i)))&&void 0!==e?e:l)},[r,l,i])},j=e=>{let t=(0,r.Td)()(e=>e.models),a=m((0,r.Td)()(e=>e.defaultSettings.fromText).modelListId);return b(()=>t,()=>a,e)},y=e=>{let t=(0,r.Td)()(e=>e.textToImageSviModels),a=p((0,r.Td)()(e=>e.defaultSettings.textToImage).modelListId);return b(()=>t,()=>a,e)}},21803:function(e,t,a){a.d(t,{e:function(){return m}});var n=a(89565),r=a(72143),l=a(8127),i=a(54795),s=a(47802);let o=async(e,t,a,n,r,o,d)=>{if(!e)throw Error("No image provided");let c=await (0,l.K$)(e),u={...(0,i.zx)(),image:c,prompt:t,negativePrompt:a,creativity:n,resemblance:r,hdr:o,style_id:d,negative_prompt:a};return(0,s.wh)(u)},d=new AbortController,c=async(e,t,a,n,s,c,u,m)=>{d.signal.aborted&&(d=new AbortController);let p=await o(e,a,n,s,c,u,m),{data:x}=await r.p.post(i.TG.ENHANCE,{body:p,headers:(0,i.kw)(t),signal:d.signal},{throwOnError:!0});return(0,l.RJ)(x)},u=()=>{d.abort()},m=()=>{let e=(0,n.useMutation)(e=>c(e.originalImgSrc,e.isPremium,e.prompt,e.negativePrompt,e.creativity,e.resemblance,e.hdr,e.style_id));return Object.assign(e,{cancelRequest:()=>{e.isLoading&&u()}})}},76015:function(e,t,a){a.d(t,{$E:function(){return d},$c:function(){return c},DQ:function(){return h},Yk:function(){return x},Zh:function(){return p},_w:function(){return g},mp:function(){return v},vb:function(){return f}});var n=a(57437),r=a(13304),l=a(2265),i=a(8792),s=a(24528),o=a(81149);let d=r.fC,c=r.xz,u=e=>(0,n.jsx)(r.h_,{...e});u.displayName=r.h_.displayName;let m=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,n.jsx)(r.aV,{ref:t,className:(0,s.cn)("fixed inset-0 z-50 bg-black bg-opacity-70 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...l})});m.displayName=r.aV.displayName;let p=e=>{let{btnProps:t={},...a}=e,{className:l,variant:d="ghost-secondary",size:c="icon-sm",...u}=t;return(0,n.jsx)(o.z,{variant:d,size:c,className:(0,s.cn)("absolute right-2 top-2",l),asChild:!0,...u,children:(0,n.jsxs)(r.x8,{...a,children:[(0,n.jsx)(i.aM,{className:"h-[18px] w-[18px] stroke-[1.5]"}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})})};p.displayName=r.x8.displayName;let x=l.forwardRef((e,t)=>{let{className:a,children:l,onModalClose:i,onCloseAutoFocus:o,disableAnimation:d=!1,container:c=document.body,...p}=e;return(0,n.jsxs)(u,{container:c,children:[(0,n.jsx)(m,{}),(0,n.jsx)(r.VY,{onCloseAutoFocus:e=>{null==i||i(),null==o||o(e)},ref:t,className:(0,s.cn)("fixed left-[50%] top-[50%] z-50 flex translate-x-[-50%] translate-y-[-50%] flex-col justify-between rounded-[18px] bg-neutral-0 text-neutral-600 shadow-lg transition-all duration-200 dark:bg-neutral-900 dark:text-neutral-40",{"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%]":!d},a),...p,children:l})]})});x.displayName=r.VY.displayName;let g=e=>{let{className:t,...a}=e;return(0,n.jsx)("div",{className:(0,s.cn)("flex h-12 flex-col justify-center gap-1 border-b border-neutral-20 p-2 pl-4 transition-all duration-500 dark:border-neutral-800",t),...a})};g.displayName="GenericModalHeader";let h=e=>{let{className:t,...a}=e;return(0,n.jsx)("div",{className:(0,s.cn)("flex h-full flex-1 flex-col gap-1",t),...a})};h.displayName="GenericModalBody";let f=e=>{let{className:t,...a}=e;return(0,n.jsx)("div",{className:(0,s.cn)("flex h-fit items-center justify-end p-6 pt-0",t),...a})};f.displayName="GenericModalFooter";let v=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,n.jsx)(r.Dx,{ref:t,className:(0,s.cn)("font-medium text-neutral-900 transition-all duration-500 dark:text-neutral-0",a),...l})});v.displayName=r.Dx.displayName,l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,n.jsx)(r.dk,{ref:t,className:(0,s.cn)("text-sm text-neutral-600 dark:text-neutral-40",a),...l})}).displayName=r.dk.displayName},19422:function(e,t,a){a.d(t,{d:function(){return r}});var n=a(2265);let r=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],[t,a]=(0,n.useState)(e);return{isModalOpen:t,closeModal:()=>a(!1),openModal:()=>a(!0),setIsModalOpen:a,toggleModal:()=>a(e=>!e)}}},72143:function(e,t,a){a.d(t,{p:function(){return i}});var n=a(52247),r=a(11141),l=a(70778);let i=new r.hE({baseURL:n.v.ANPU_API_URL,defaultHeadersGenerator:l.A})},54795:function(e,t,a){a.d(t,{SN:function(){return d},TG:function(){return r},WX:function(){return c},kw:function(){return i},zx:function(){return s}});var n,r,l=a(29328);let i=e=>{let t=new Headers;return t.append("Content-Type","multipart/form-data"),t.append("Premium",(0,l.Q)(e)),t},s=()=>({model_version:1}),o=e=>null!=e&&e.trim().length>0,d=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];let n=t.filter(o);if(0!==n.length)return n.join(", ")},c=(e,t)=>{var a;let{model:n,aspect_ratio:r,cfg:l,style:i,prompt:o,negative_prompt:c,tags:u,high_res_results:m,seed:p}=e,{model_id:x}=n,g=null!==(a=d(o,null==n?void 0:n.init_prompt,null==i?void 0:i.init_prompt,...Object.entries(u).flatMap(e=>Array.from(e[1]))))&&void 0!==a?a:"",h=d(c,null==n?void 0:n.init_neg_prompt,null==i?void 0:i.init_neg_prompt),f={...s(),aspect_ratio:r,cfg:l,prompt:g,style_id:x,seed:null!=p?p:t};return h&&h.length>0&&(f.negative_prompt=h),m&&n.hdr_toggle&&(f.high_res_results=1),f};(n=r||(r={})).UPSCALE="/upscale",n.ENHANCE="/enhance",n.BACKGROUND_REMOVER="/background/remover",n.INPAINT="/edits/inpaint",n.OUTPAINT="/edits/outpaint",n.IMAGE_REMIX="/edits/remix",n.IMAGE_BASED_REALTIME_GENERATION="/edits/remix/turbo",n.FROM_TEXT="/generations",n.VARIATE="/generations/variations",n.CHARACTER_CONSISTENCY="/generations/consistent",n.TEXT_BASED_REALTIME_GENERATION="/generations/turbo",n.VIDEO_STATUS="/video/status",n.VIDEO_UPLOAD="/video/upload",n.VIDEO_DELETE="/video/delete",n.VIDEO_DOWNLOAD="/video/download",n.VIDEO_THUMBNAIL_DOWNLOAD="/video/thumbnail",n.FACE_DETECT="/info/faces"},80163:function(e,t,a){a.d(t,{f:function(){return i}});var n=a(39099),r=a(46409),l=a(50473);let i=(0,n.Ue)(e=>({activeAITool:null,showToolsSidebar:!1,showLayersSidebar:!1,showToolsModal:!1,designs:[],sortBy:r.R.LAST_EDITED,remixBaseImage:null,isNotSaved:!1,canvasMode:l.DZ.Select,prevProjectId:null,setActiveAITool:t=>e(()=>({activeAITool:t})),setShowToolsSidebar:t=>e(()=>({showToolsSidebar:t})),setShowLayersSidebar:t=>e(()=>({showLayersSidebar:t})),closeAllSidebars:()=>e(()=>({showToolsSidebar:!1,showLayersSidebar:!1})),setShowToolsModal:t=>e(()=>({showToolsModal:t})),setDesigns:t=>e(()=>({designs:t})),updateDesign:t=>e(e=>({designs:e.designs.map(e=>e.id===t.id?t:e)})),renameDesign:(t,a)=>e(e=>({designs:e.designs.map(e=>e.id===t?{...e,title:a}:e)})),setSortBy:t=>e(()=>({sortBy:t})),deleteDesign:t=>e(e=>({designs:e.designs.filter(e=>e.id!==t)})),setRemixBaseImage:t=>e(()=>({remixBaseImage:t})),setIsNotSaved:t=>e(()=>({isNotSaved:t})),setCanvasMode:t=>e(()=>({canvasMode:t})),setPrevProjectId:t=>e(()=>({prevProjectId:t}))}))},67259:function(e,t,a){a.d(t,{Qt:function(){return m},hB:function(){return x}});var n=a(14643),r=a(20920),l=a(39099),i=a(89291),s=a(22241),o=a(52247),d=a(47802);let c=(e,t)=>{if(!e||!t)return!1;let a=Object.keys(e),n=Object.keys(t);return a.length===n.length&&a.every(a=>{let n=e[a],r=t[a];return n&&r&&(0,d.EE)(n,r)})},u=e=>(null==e?void 0:e.trim().toLowerCase())||"",m=(e,t)=>{var a,n,r,l;return!!e&&!!t&&c(e.tags,t.tags)&&e.aspect_ratio===t.aspect_ratio&&e.cfg===t.cfg&&e.high_res_results===t.high_res_results&&u(e.negative_prompt)===u(t.negative_prompt)&&u(e.prompt)===u(t.prompt)&&e.seed===t.seed&&(null===(a=e.style)||void 0===a?void 0:a.id)===(null===(n=t.style)||void 0===n?void 0:n.id)&&(null===(r=e.model)||void 0===r?void 0:r.id)===(null===(l=t.model)||void 0===l?void 0:l.id)},p=e=>{let{collections:t,selectedCollectionId:a}=e;return a?t.findIndex(e=>e.id===a):-1},x=e=>(0,l.Ue)()((0,s.n)((0,i.mW)((t,a)=>({collections:[],selectedImageId:void 0,selectedCollectionId:void 0,setSelectedCollection:e=>{t(t=>{let a=t.collections.find(t=>t.id===e.id);a&&(t.selectedCollectionId=a.id,t.selectedImageId=a.images[0].id)})},setSelectedImage:e=>{t(t=>{let a=t.collections.find(e=>e.id===t.selectedCollectionId);a&&a.images.find(t=>t.id===e)&&(t.selectedImageId=e)})},addImagesToCollection:(l,i,s)=>{t(t=>{let o=p(a()),d=(0,n.cA)(i),c=l.map(e=>({id:(0,r.Z)(),...e,...s?{originalSrc:s.src,originalImageId:s.id,isVariation:!!s}:{}}));if(-1===o||!t.collections[o]){let e=(0,n.cA)({id:(0,r.Z)(),images:c,settings:i});t.collections.unshift(e),t.selectedCollectionId=e.id,t.selectedImageId=e.images[0].id;return}let u=t.collections.findIndex(t=>e(t.settings,d));if(-1!==u)t.collections[u].images.unshift(...c);else{let e=(0,n.P2)({id:(0,r.Z)(),images:c,settings:i});t.collections.unshift(e),t.selectedCollectionId=e.id,t.selectedImageId=e.images[0].id}})},addImageToCollectionWithLoading:(l,i)=>{let s=(0,r.Z)();return t(t=>{let o=p(a()),d=(0,n.cA)(l),c={id:s,src:"",...i?{originalSrc:i.src,originalImageId:i.id,isVariation:!!i}:{},isLoading:!0};if(-1===o||!t.collections[o]){let e=(0,n.cA)({id:(0,r.Z)(),images:[c],settings:l});t.collections.unshift(e),t.selectedCollectionId=e.id,t.selectedImageId=e.images[0].id;return}let u=t.collections.findIndex(t=>e(t.settings,d));if(-1!==u)t.collections[u].images.unshift(c);else{let e=(0,n.P2)({id:(0,r.Z)(),images:[c],settings:l});t.collections.unshift(e),t.selectedCollectionId=e.id,t.selectedImageId=e.images[0].id}}),{imageId:s,collectionId:""}},createCollectionWithSettings:e=>{let a=(0,r.Z)();return t(t=>{let r=(0,n.P2)({id:a,images:[],settings:e});t.collections.unshift(r)}),{collectionId:a}},addImageToGivenCollectionWithLoading:(e,a)=>{let n=(0,r.Z)();return t(t=>{let r={id:n,src:"",...a?{originalSrc:a.src,originalImageId:a.id,isVariation:!!a}:{},isLoading:!0},l=p({collections:t.collections,selectedCollectionId:e});-1!==l&&t.collections[l]&&t.collections[l].images.unshift(r)}),{imageId:n,collectionId:""}},deleteGivenCollection(e){t(t=>{let a=p({collections:t.collections,selectedCollectionId:e});-1!==a&&t.collections[a]&&t.collections.splice(a,1)})},completeImageGenerationLoadingOnGivenCollection(e){let{image:a,imageId:n,collectionId:r}=e;t(e=>{let t=p({collections:e.collections,selectedCollectionId:r});if(-1===t||!e.collections[t])return;let l=e.collections[t].images.find(e=>e.id===n);l&&(l.isLoading=!1,l.src=a.src)})},deleteLoadingImageFromGivenCollection:e=>{let{imageId:a,collectionId:n}=e;t(e=>{let t=p({collections:e.collections,selectedCollectionId:n});-1!==t&&e.collections[t]&&(e.collections[t].images=e.collections[t].images.filter(e=>e.id!==a),e.collections[t].images.length>0||e.collections.splice(t,1))})},setImageLoadingOnGivenCollection:(e,a,n)=>{t(t=>{let r=p({collections:t.collections,selectedCollectionId:n});if(-1===r||!t.collections[r])return;let l=t.collections[r].images.find(t=>t.id===e);l&&(l.isLoading=a)})},setImageUpscaleOnGivenCollection:(e,a,n,r)=>{t(t=>{let l=p({collections:t.collections,selectedCollectionId:r});if(-1===l||!t.collections[l])return;let i=t.collections[l].images.find(t=>t.id===e);i&&(i.upscaleSrc=a,i.isUpscaled=n)})},deleteImageFromGivenCollection:e=>{let{imageId:a,collectionId:n}=e;t(e=>{let t=p({collections:e.collections,selectedCollectionId:n});-1!==t&&e.collections[t]&&(e.collections[t].images=e.collections[t].images.filter(e=>e.id!==a),e.collections[t].images.length>0||(e.collections=e.collections.filter(a=>{var n;return a.id!==(null===(n=e.collections[t])||void 0===n?void 0:n.id)})))})},setFocusOfOriginalImageOnGivenCollection:(e,a,n)=>{t(t=>{let r=p({collections:t.collections,selectedCollectionId:n});if(-1===r||!t.collections[r])return;let l=t.collections[r].images.find(t=>t.id===e);l&&(l.isFocused=a)})},completeImageGenerationLoading(e){let{image:n,imageId:r}=e;t(e=>{e.collections.forEach(e=>{let t=e.images.find(e=>e.id===r);t&&(t.isLoading=!1,t.src=n.src,n.randomSeed&&(t.randomSeed=n.randomSeed))});let t=p(a());if(-1===t)return;let l=e.collections[t].images.find(e=>e.id===r);l&&(l.src=n.src,l.isLoading=!1,n.randomSeed&&(l.randomSeed=n.randomSeed))})},deleteLoadingImage(e){t(t=>{var n;let r=p(a());-1!==r&&(t.collections[r].images=t.collections[r].images.filter(t=>t.id!==e),t.collections[r].images.length>0||(t.collections.splice(r,1),t.selectedCollectionId=null===(n=t.collections[0])||void 0===n?void 0:n.id))})},resetCollectionStore:()=>{t(e=>{e.collections=[],e.selectedCollectionId=void 0,e.selectedImageId=void 0})},setImageLoading:(e,n)=>{t(t=>{t.collections.forEach(t=>{let a=t.images.find(t=>t.id===e);a&&(a.isLoading=n)});let r=p(a());if(-1===r)return;let l=t.collections[r].images.find(t=>t.id===e);l&&(l.isLoading=n)})},setImagesUpscale:(e,n,r)=>{t(t=>{t.collections.forEach(t=>{t.images.forEach(t=>{e===t.id&&(t.upscaleSrc=n,t.isUpscaled=r)})});let l=p(a());-1!==l&&t.collections[l].images.forEach(t=>{e===t.id&&(t.upscaleSrc=n,t.isUpscaled=r)})})},deleteImage:e=>{t(t=>{var n;t.collections.forEach(t=>{t.images=t.images.filter(t=>t.id!==e)}),e===t.selectedImageId&&(t.selectedImageId=void 0);let r=p(a());-1!==r&&(t.collections[r].images=t.collections[r].images.filter(t=>t.id!==e),t.collections[r].images.length>0||(t.collections=t.collections.filter(e=>{var a;return e.id!==(null===(a=t.collections[r])||void 0===a?void 0:a.id)}),t.selectedCollectionId=null===(n=t.collections[0])||void 0===n?void 0:n.id))})},setFocusOfOriginalImage:(e,n)=>{t(t=>{let r=p(a());if(-1===r)return;let l=t.collections[r].images.find(t=>t.id===e);l&&(l.isFocused=n)})}}),{enabled:!o.v.IS_PROD_DEPLOYMENT&&(0,d.Ep)().isBrowser})))},50473:function(e,t,a){var n,r,l,i,s,o;a.d(t,{A2:function(){return n},DZ:function(){return l},n:function(){return r}}),(i=n||(n={})).TextToImage="text-to-image",i.ImageRemix="image-remix",(s=r||(r={})).Saving="saving",s.Saved="saved",s.Error="error",s.Idle="idle",(o=l||(l={})).Pan="pan",o.Select="select",o.GenerativeFill="generative-fill"},10579:function(e,t,a){a.d(t,{SB:function(){return s},VO:function(){return o},X2:function(){return i},ZQ:function(){return r}});var n,r,l=a(59772);let i=l.z.object({id:l.z.number(),style_id:l.z.number(),style_name:l.z.string(),style_thumb:l.z.string(),init_prompt:l.z.string().optional(),init_neg_prompt:l.z.string().optional(),isPopular:l.z.boolean().optional()}),s=l.z.object({id:l.z.number(),model_id:l.z.number(),name:l.z.string(),thumb:l.z.string(),init_prompt:l.z.string().optional(),init_neg_prompt:l.z.string().optional(),isPopular:l.z.boolean().optional(),hdr_toggle:l.z.boolean().optional(),steps_enabled:l.z.boolean().optional(),cfg_enabled:l.z.boolean().optional(),aspect_ratio_enabled:l.z.boolean().optional()});(n=r||(r={})).ALPHA="alpha",n.BETA="beta";let o=l.z.object({id:l.z.number(),name:l.z.string(),lora_style:l.z.string(),thumbnail:l.z.string()})},29328:function(e,t,a){a.d(t,{Q:function(){return d},eL:function(){return c},t$:function(){return p}});var n=a(57437),r=a(54362),l=a(76111),i=a(13495),s=a(11141),o=a(82442);let d=e=>e?"True":"False",c=(e,t)=>{if(e&&"object"==typeof e&&"code"in e&&"error"===e.code){if(e.statusCode===s.fJ.ABORTED){o.Am.error("Request canceled");return}if(e.error instanceof Error){o.Am.error(e.error.message);return}if(1101===e.error.code){o.Am.warning("Insufficient tokens. Tokens replenish every 12 hours.",{icon:(0,n.jsx)(i.Ss,{}),renderCta:e=>t?(0,n.jsx)(l.BuyMoreTokensModalCTA,{...e,children:"Buy tokens"}):(0,n.jsx)(r.PricingModalCTA,{...e,children:"Upgrade"}),className:"max-w-[500px]"});return}if(1100===e.error.code){o.Am.error("Sent request in invalid");return}if(400===e.statusCode||451===e.statusCode){o.Am.error("You can not generate Images of kids and celebrities.");return}o.Am.error(e.error.error)}else e instanceof Error?o.Am.error(e.message):o.Am.error("Processing failed")},u=e=>new Promise(t=>{setTimeout(t,e)}),m=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;try{return await e()}catch(n){if(a>0)return await u(t),m(e,2*t,a-1);throw n}},p=e=>{let t="Unknown";try{if(e instanceof Error)t=e.message;else if((null==e?void 0:e.code)==="error"){if((null==e?void 0:e.statusCode)===s.fJ.ABORTED)t="Request cancelled";else{var a,n;t=null!==(n=null===(a=e.error)||void 0===a?void 0:a.message)&&void 0!==n?n:"Failed to extract error"}}}catch(e){t=e instanceof Error?"CatchError: ".concat(e.message):"Look into this case if occurs"}return t}}}]);