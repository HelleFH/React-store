"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7734],{7551:function(e,t,n){let r;n.d(t,{R:function(){return o}});var o=((r=o||{}).Space=" ",r.Enter="Enter",r.Escape="Escape",r.Backspace="Backspace",r.Delete="Delete",r.ArrowLeft="ArrowLeft",r.ArrowUp="ArrowUp",r.ArrowRight="ArrowRight",r.ArrowDown="ArrowDown",r.Home="Home",r.End="End",r.PageUp="PageUp",r.PageDown="PageDown",r.Tab="Tab",r)},6584:function(e,t,n){n.d(t,{z:function(){return i}});var r=n(2265),o=n(88703);let i=function(e){let t=(0,o.E)(e);return r.useCallback(function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.current(...n)},[t])}},72955:function(e,t,n){n.d(t,{M:function(){return l}});var r,o=n(2265),i=n(54462),a=n(61463),s=n(33856);let l=null!=(r=o.useId)?r:function(){let e=(0,s.H)(),[t,n]=o.useState(e?()=>i.O.nextId():null);return(0,a.e)(()=>{null===t&&n(i.O.nextId())},[t]),null!=t?""+t:void 0}},26400:function(e,t,n){n.d(t,{t:function(){return i}});var r=n(2265),o=n(61463);function i(){let e=(0,r.useRef)(!1);return(0,o.e)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}},61463:function(e,t,n){n.d(t,{e:function(){return i}});var r=n(2265),o=n(54462);let i=(e,t)=>{o.O.isServer?(0,r.useEffect)(e,t):(0,r.useLayoutEffect)(e,t)}},88703:function(e,t,n){n.d(t,{E:function(){return i}});var r=n(2265),o=n(61463);function i(e){let t=(0,r.useRef)(e);return(0,o.e)(()=>{t.current=e},[e]),t}},33856:function(e,t,n){n.d(t,{H:function(){return a}});var r,o=n(2265),i=n(54462);function a(){let e;let t=(e="undefined"==typeof document,(0,(r||(r=n.t(o,2))).useSyncExternalStore)(()=>()=>{},()=>!1,()=>!e)),[a,s]=o.useState(i.O.isHandoffComplete);return a&&!1===i.O.isHandoffComplete&&s(!1),o.useEffect(()=>{!0!==a&&s(!0)},[a]),o.useEffect(()=>i.O.handoff(),[]),!t&&a}},41469:function(e,t,n){n.d(t,{T:function(){return s},h:function(){return a}});var r=n(2265),o=n(6584);let i=Symbol();function a(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return Object.assign(e,{[i]:t})}function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let a=(0,r.useRef)(t);(0,r.useEffect)(()=>{a.current=t},[t]);let s=(0,o.z)(e=>{for(let t of a.current)null!=t&&("function"==typeof t?t(e):t.current=e)});return t.every(e=>null==e||(null==e?void 0:e[i]))?void 0:s}},89080:function(e,t,n){let r;n.d(t,{A:function(){return i},_:function(){return a}});var o=n(3600),i=((r=i||{})[r.None=1]="None",r[r.Focusable=2]="Focusable",r[r.Hidden=4]="Hidden",r);let a=(0,o.yV)(function(e,t){var n;let{features:r=1,...i}=e,a={ref:t,"aria-hidden":(2&r)==2||(null!=(n=i["aria-hidden"])?n:void 0),style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(4&r)==4&&(2&r)!=2&&{display:"none"}}};return(0,o.sY)({ourProps:a,theirProps:i,slot:{},defaultTag:"div",name:"Hidden"})})},12585:function(e,t,n){n.d(t,{A:function(){return r}});function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.from(new Set(t.flatMap(e=>"string"==typeof e?e.split(" "):[]))).filter(Boolean).join(" ")}},54462:function(e,t,n){n.d(t,{O:function(){return s}});var r=Object.defineProperty,o=(e,t,n)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,i=(e,t,n)=>(o(e,"symbol"!=typeof t?t+"":t,n),n);class a{set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return"server"===this.current}get isClient(){return"client"===this.current}detect(){return"undefined"==typeof window||"undefined"==typeof document?"server":"client"}handoff(){"pending"===this.handoffState&&(this.handoffState="complete")}get isHandoffComplete(){return"complete"===this.handoffState}constructor(){i(this,"current",this.detect()),i(this,"handoffState","pending"),i(this,"currentId",0)}}let s=new a},19309:function(e,t,n){let r,o,i,a,s;n.d(t,{C5:function(){return m},TO:function(){return c},fE:function(){return u},jA:function(){return y},sP:function(){return g},tJ:function(){return f},z2:function(){return v}});var l=n(5583),h=n(91498);let d=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>"".concat(e,":not([tabindex='-1'])")).join(",");var c=((r=c||{})[r.First=1]="First",r[r.Previous=2]="Previous",r[r.Next=4]="Next",r[r.Last=8]="Last",r[r.WrapAround=16]="WrapAround",r[r.NoScroll=32]="NoScroll",r),u=((o=u||{})[o.Error=0]="Error",o[o.Overflow=1]="Overflow",o[o.Success=2]="Success",o[o.Underflow=3]="Underflow",o),p=((i=p||{})[i.Previous=-1]="Previous",i[i.Next=1]="Next",i),f=((a=f||{})[a.Strict=0]="Strict",a[a.Loose=1]="Loose",a);function g(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e!==(null==(t=(0,h.r)(e))?void 0:t.body)&&(0,l.E)(n,{0:()=>e.matches(d),1(){let t=e;for(;null!==t;){if(t.matches(d))return!0;t=t.parentElement}return!1}})}var w=((s=w||{})[s.Keyboard=0]="Keyboard",s[s.Mouse=1]="Mouse",s);function m(e){null==e||e.focus({preventScroll:!0})}function v(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;return e.slice().sort((e,n)=>{let r=t(e),o=t(n);if(null===r||null===o)return 0;let i=r.compareDocumentPosition(o);return i&Node.DOCUMENT_POSITION_FOLLOWING?-1:i&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function y(e,t){var n,r,o;let{sorted:i=!0,relativeTo:a=null,skipElements:s=[]}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,h=Array.isArray(e)?i?v(e):e:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;return null==e?[]:Array.from(e.querySelectorAll(d)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}(e);s.length>0&&h.length>1&&(h=h.filter(e=>!s.includes(e))),a=null!=a?a:l.activeElement;let c=(()=>{if(5&t)return 1;if(10&t)return -1;throw Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=(()=>{if(1&t)return 0;if(2&t)return Math.max(0,h.indexOf(a))-1;if(4&t)return Math.max(0,h.indexOf(a))+1;if(8&t)return h.length-1;throw Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),p=32&t?{preventScroll:!0}:{},f=0,g=h.length,w;do{if(f>=g||f+g<=0)return 0;let e=u+f;if(16&t)e=(e+g)%g;else{if(e<0)return 3;if(e>=g)return 1}null==(w=h[e])||w.focus(p),f+=c}while(w!==l.activeElement);return 6&t&&null!=(o=null==(r=null==(n=w)?void 0:n.matches)?void 0:r.call(n,"textarea,input"))&&o&&w.select(),2}"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{1===e.detail?delete document.documentElement.dataset.headlessuiFocusVisible:0===e.detail&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0))},5583:function(e,t,n){n.d(t,{E:function(){return r}});function r(e,t){for(var n=arguments.length,o=Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];if(e in t){let n=t[e];return"function"==typeof n?n(...o):n}let a=Error('Tried to handle "'.concat(e,'" but there is no handler defined. Only defined handlers are: ').concat(Object.keys(t).map(e=>'"'.concat(e,'"')).join(", "),"."));throw Error.captureStackTrace&&Error.captureStackTrace(a,r),a}},28043:function(e,t,n){n.d(t,{Y:function(){return r}});function r(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch(e=>setTimeout(()=>{throw e}))}},91498:function(e,t,n){n.d(t,{r:function(){return o}});var r=n(54462);function o(e){return r.O.isServer?null:e instanceof Node?e.ownerDocument:null!=e&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}},3600:function(e,t,n){let r,o;n.d(t,{AN:function(){return l},l4:function(){return h},sY:function(){return d},yV:function(){return f}});var i=n(2265),a=n(12585),s=n(5583),l=((r=l||{})[r.None=0]="None",r[r.RenderStrategy=1]="RenderStrategy",r[r.Static=2]="Static",r),h=((o=h||{})[o.Unmount=0]="Unmount",o[o.Hidden=1]="Hidden",o);function d(e){let{ourProps:t,theirProps:n,slot:r,defaultTag:o,features:i,visible:a=!0,name:l,mergeRefs:h}=e;h=null!=h?h:u;let d=p(n,t);if(a)return c(d,r,o,l,h);let f=null!=i?i:0;if(2&f){let{static:e=!1,...t}=d;if(e)return c(t,r,o,l,h)}if(1&f){let{unmount:e=!0,...t}=d;return(0,s.E)(e?0:1,{0:()=>null,1:()=>c({...t,hidden:!0,style:{display:"none"}},r,o,l,h)})}return c(d,r,o,l,h)}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,{as:s=n,children:l,refName:h="ref",...d}=w(e,["unmount","static"]),c=void 0!==e.ref?{[h]:e.ref}:{},u="function"==typeof l?l(t):l;"className"in d&&d.className&&"function"==typeof d.className&&(d.className=d.className(t));let f={};if(t){let e=!1,n=[];for(let[r,o]of Object.entries(t))"boolean"==typeof o&&(e=!0),!0===o&&n.push(r);e&&(f["data-headlessui-state"]=n.join(" "))}if(s===i.Fragment&&Object.keys(g(d)).length>0){if(!(0,i.isValidElement)(u)||Array.isArray(u)&&u.length>1)throw Error(['Passing props on "Fragment"!',"","The current component <".concat(r,' /> is rendering a "Fragment".'),"However we need to passthrough the following props:",Object.keys(d).map(e=>"  - ".concat(e)).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(e=>"  - ".concat(e)).join("\n")].join("\n"));let e=u.props,t="function"==typeof(null==e?void 0:e.className)?function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return(0,a.A)(null==e?void 0:e.className(...n),d.className)}:(0,a.A)(null==e?void 0:e.className,d.className);return(0,i.cloneElement)(u,Object.assign({},p(u.props,g(w(d,["ref"]))),f,c,{ref:o(u.ref,c.ref)},t?{className:t}:{}))}return(0,i.createElement)(s,Object.assign({},w(d,["ref"]),s!==i.Fragment&&c,s!==i.Fragment&&f),u)}function u(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every(e=>null==e)?void 0:e=>{for(let n of t)null!=n&&("function"==typeof n?n(e):n.current=e)}}function p(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return{};if(1===t.length)return t[0];let r={},o={};for(let e of t)for(let t in e)t.startsWith("on")&&"function"==typeof e[t]?(null!=o[t]||(o[t]=[]),o[t].push(e[t])):r[t]=e[t];if(r.disabled||r["aria-disabled"])return Object.assign(r,Object.fromEntries(Object.keys(o).map(e=>[e,void 0])));for(let e in o)Object.assign(r,{[e](t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(let n of o[e]){if((t instanceof Event||(null==t?void 0:t.nativeEvent)instanceof Event)&&t.defaultPrevented)return;n(t,...r)}}});return r}function f(e){var t;return Object.assign((0,i.forwardRef)(e),{displayName:null!=(t=e.displayName)?t:e.name})}function g(e){let t=Object.assign({},e);for(let e in t)void 0===t[e]&&delete t[e];return t}function w(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object.assign({},e);for(let e of t)e in n&&delete n[e];return n}},61485:function(e,t,n){n.d(t,{VY:function(){return T},ee:function(){return X},fC:function(){return K},h_:function(){return $},x8:function(){return U},xz:function(){return L}});var r=n(22988),o=n(2265),i=n(78149),a=n(1584),s=n(98324),l=n(53938),h=n(20589),d=n(80467),c=n(53201),u=n(25510),p=n(56935),f=n(31383),g=n(25171),w=n(71538),m=n(91715),v=n(78369),y=n(9219);let x="Popover",[C,b]=(0,s.b)(x,[u.D7]),D=(0,u.D7)(),[E,R]=C(x),O=(0,o.forwardRef)((e,t)=>{let{__scopePopover:n,...i}=e,a=R("PopoverAnchor",n),s=D(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:h}=a;return(0,o.useEffect)(()=>(l(),()=>h()),[l,h]),(0,o.createElement)(u.ee,(0,r.Z)({},s,i,{ref:t}))}),P=(0,o.forwardRef)((e,t)=>{let{__scopePopover:n,...s}=e,l=R("PopoverTrigger",n),h=D(n),d=(0,a.e)(t,l.triggerRef),c=(0,o.createElement)(g.WV.button,(0,r.Z)({type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":Y(l.open)},s,{ref:d,onClick:(0,i.M)(e.onClick,l.onOpenToggle)}));return l.hasCustomAnchor?c:(0,o.createElement)(u.ee,(0,r.Z)({asChild:!0},h),c)}),A="PopoverPortal",[_,M]=C(A,{forceMount:void 0}),N="PopoverContent",S=(0,o.forwardRef)((e,t)=>{let n=M(N,e.__scopePopover),{forceMount:i=n.forceMount,...a}=e,s=R(N,e.__scopePopover);return(0,o.createElement)(f.z,{present:i||s.open},s.modal?(0,o.createElement)(k,(0,r.Z)({},a,{ref:t})):(0,o.createElement)(F,(0,r.Z)({},a,{ref:t})))}),k=(0,o.forwardRef)((e,t)=>{let n=R(N,e.__scopePopover),s=(0,o.useRef)(null),l=(0,a.e)(t,s),h=(0,o.useRef)(!1);return(0,o.useEffect)(()=>{let e=s.current;if(e)return(0,v.Ry)(e)},[]),(0,o.createElement)(y.Z,{as:w.g7,allowPinchZoom:!0},(0,o.createElement)(I,(0,r.Z)({},e,{ref:l,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,i.M)(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),h.current||null===(t=n.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:(0,i.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,r=2===t.button||n;h.current=r},{checkForDefaultPrevented:!1}),onFocusOutside:(0,i.M)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})))}),F=(0,o.forwardRef)((e,t)=>{let n=R(N,e.__scopePopover),i=(0,o.useRef)(!1),a=(0,o.useRef)(!1);return(0,o.createElement)(I,(0,r.Z)({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var r,o;null===(r=e.onCloseAutoFocus)||void 0===r||r.call(e,t),t.defaultPrevented||(i.current||null===(o=n.triggerRef.current)||void 0===o||o.focus(),t.preventDefault()),i.current=!1,a.current=!1},onInteractOutside:t=>{var r,o;null===(r=e.onInteractOutside)||void 0===r||r.call(e,t),t.defaultPrevented||(i.current=!0,"pointerdown"!==t.detail.originalEvent.type||(a.current=!0));let s=t.target;(null===(o=n.triggerRef.current)||void 0===o?void 0:o.contains(s))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&a.current&&t.preventDefault()}}))}),I=(0,o.forwardRef)((e,t)=>{let{__scopePopover:n,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:c,onEscapeKeyDown:p,onPointerDownOutside:f,onFocusOutside:g,onInteractOutside:w,...m}=e,v=R(N,n),y=D(n);return(0,h.EW)(),(0,o.createElement)(d.M,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:a,onUnmountAutoFocus:s},(0,o.createElement)(l.XB,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:w,onEscapeKeyDown:p,onPointerDownOutside:f,onFocusOutside:g,onDismiss:()=>v.onOpenChange(!1)},(0,o.createElement)(u.VY,(0,r.Z)({"data-state":Y(v.open),role:"dialog",id:v.contentId},y,m,{ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))}),H=(0,o.forwardRef)((e,t)=>{let{__scopePopover:n,...a}=e,s=R("PopoverClose",n);return(0,o.createElement)(g.WV.button,(0,r.Z)({type:"button"},a,{ref:t,onClick:(0,i.M)(e.onClick,()=>s.onOpenChange(!1))}))});function Y(e){return e?"open":"closed"}let K=e=>{let{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:s=!1}=e,l=D(t),h=(0,o.useRef)(null),[d,p]=(0,o.useState)(!1),[f=!1,g]=(0,m.T)({prop:r,defaultProp:i,onChange:a});return(0,o.createElement)(u.fC,l,(0,o.createElement)(E,{scope:t,contentId:(0,c.M)(),triggerRef:h,open:f,onOpenChange:g,onOpenToggle:(0,o.useCallback)(()=>g(e=>!e),[g]),hasCustomAnchor:d,onCustomAnchorAdd:(0,o.useCallback)(()=>p(!0),[]),onCustomAnchorRemove:(0,o.useCallback)(()=>p(!1),[]),modal:s},n))},X=O,L=P,$=e=>{let{__scopePopover:t,forceMount:n,children:r,container:i}=e,a=R(A,t);return(0,o.createElement)(_,{scope:t,forceMount:n},(0,o.createElement)(f.z,{present:n||a.open},(0,o.createElement)(p.h,{asChild:!0,container:i},r)))},T=S,U=H},46505:function(e,t,n){n.d(t,{YG:function(){return l},ZP:function(){return w},_H:function(){return h}});var r=n(2265);let o={x:0,y:0,width:0,height:0,unit:"px"},i=(e,t,n)=>Math.min(Math.max(e,t),n),a=(...e)=>e.filter(e=>e&&"string"==typeof e).join(" "),s=(e,t)=>e===t||e.width===t.width&&e.height===t.height&&e.x===t.x&&e.y===t.y&&e.unit===t.unit;function l(e,t,n,r){let o=c(e,n,r);return e.width&&(o.height=o.width/t),e.height&&(o.width=o.height*t),o.y+o.height>r&&(o.height=r-o.y,o.width=o.height*t),o.x+o.width>n&&(o.width=n-o.x,o.height=o.width/t),"%"===e.unit?d(o,n,r):o}function h(e,t,n){let r=c(e,t,n);return r.x=(t-r.width)/2,r.y=(n-r.height)/2,"%"===e.unit?d(r,t,n):r}function d(e,t,n){return"%"===e.unit?{...o,...e,unit:"%"}:{unit:"%",x:e.x?e.x/t*100:0,y:e.y?e.y/n*100:0,width:e.width?e.width/t*100:0,height:e.height?e.height/n*100:0}}function c(e,t,n){return e.unit?"px"===e.unit?{...o,...e,unit:"px"}:{unit:"px",x:e.x?e.x*t/100:0,y:e.y?e.y*n/100:0,width:e.width?e.width*t/100:0,height:e.height?e.height*n/100:0}:{...o,...e,unit:"px"}}function u(e,t,n,r,o,i=0,a=0,s=r,l=o){let h={...e},d=Math.min(i,r),c=Math.min(a,o),u=Math.min(s,r),p=Math.min(l,o);t&&(t>1?(c=(d=a?a*t:d)/t,u=s*t):(d=(c=i?i/t:c)*t,p=l/t)),h.y<0&&(h.height=Math.max(h.height+h.y,c),h.y=0),h.x<0&&(h.width=Math.max(h.width+h.x,d),h.x=0);let f=r-(h.x+h.width);f<0&&(h.x=Math.min(h.x,r-d),h.width+=f);let g=o-(h.y+h.height);if(g<0&&(h.y=Math.min(h.y,o-c),h.height+=g),h.width<d&&(("sw"===n||"nw"==n)&&(h.x-=d-h.width),h.width=d),h.height<c&&(("nw"===n||"ne"==n)&&(h.y-=c-h.height),h.height=c),h.width>u&&(("sw"===n||"nw"==n)&&(h.x-=u-h.width),h.width=u),h.height>p&&(("nw"===n||"ne"==n)&&(h.y-=p-h.height),h.height=p),t){let e=h.width/h.height;if(e<t){let e=Math.max(h.width/t,c);("nw"===n||"ne"==n)&&(h.y-=e-h.height),h.height=e}else if(e>t){let e=Math.max(h.height*t,d);("sw"===n||"nw"==n)&&(h.x-=e-h.width),h.width=e}}return h}let p={capture:!0,passive:!1},f=0,g=class e extends r.PureComponent{constructor(){super(...arguments),this.docMoveBound=!1,this.mouseDownOnCrop=!1,this.dragStarted=!1,this.evData={startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0},this.componentRef=(0,r.createRef)(),this.mediaRef=(0,r.createRef)(),this.initChangeCalled=!1,this.instanceId=`rc-${f++}`,this.state={cropIsActive:!1,newCropIsBeingDrawn:!1},this.onCropPointerDown=e=>{let{crop:t,disabled:n}=this.props,r=this.getBox();if(!t)return;let o=c(t,r.width,r.height);if(n)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});let i=e.target.dataset.ord,a=e.clientX,s=e.clientY,l=o.x,h=o.y;if(i){let t=e.clientX-r.x,n=e.clientY-r.y,d=0,c=0;"ne"===i||"e"==i?(d=t-(o.x+o.width),c=n-o.y,l=o.x,h=o.y+o.height):"se"===i||"s"===i?(d=t-(o.x+o.width),c=n-(o.y+o.height),l=o.x,h=o.y):"sw"===i||"w"==i?(d=t-o.x,c=n-(o.y+o.height),l=o.x+o.width,h=o.y):("nw"===i||"n"==i)&&(d=t-o.x,c=n-o.y,l=o.x+o.width,h=o.y+o.height),a=l+r.x+d,s=h+r.y+c}this.evData={startClientX:a,startClientY:s,startCropX:l,startCropY:h,clientX:e.clientX,clientY:e.clientY,isResize:!!i,ord:i},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})},this.onComponentPointerDown=e=>{let{crop:t,disabled:n,locked:r,keepSelection:o,onChange:i}=this.props,a=this.getBox();if(n||r||o&&t)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});let s=e.clientX-a.x,l=e.clientY-a.y,h={unit:"px",x:s,y:l,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:s,startCropY:l,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,i(c(h,a.width,a.height),d(h,a.width,a.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})},this.onDocPointerMove=e=>{let t;let{crop:n,disabled:r,onChange:o,onDragStart:i}=this.props,a=this.getBox();if(r||!n||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,i&&i(e));let{evData:l}=this;l.clientX=e.clientX,l.clientY=e.clientY,s(n,t=l.isResize?this.resizeCrop():this.dragCrop())||o(c(t,a.width,a.height),d(t,a.width,a.height))},this.onComponentKeyDown=t=>{let{crop:n,disabled:r,onChange:o,onComplete:a}=this.props;if(r)return;let s=t.key,l=!1;if(!n)return;let h=this.getBox(),u=this.makePixelCrop(h),p=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?e.nudgeStepLarge:t.shiftKey?e.nudgeStepMedium:e.nudgeStep;if("ArrowLeft"===s?(u.x-=p,l=!0):"ArrowRight"===s?(u.x+=p,l=!0):"ArrowUp"===s?(u.y-=p,l=!0):"ArrowDown"===s&&(u.y+=p,l=!0),l){t.cancelable&&t.preventDefault(),u.x=i(u.x,0,h.width-u.width),u.y=i(u.y,0,h.height-u.height);let e=c(u,h.width,h.height),n=d(u,h.width,h.height);o(e,n),a&&a(e,n)}},this.onHandlerKeyDown=(t,n)=>{let{aspect:r=0,crop:o,disabled:i,minWidth:a=0,minHeight:l=0,maxWidth:h,maxHeight:p,onChange:f,onComplete:g}=this.props,w=this.getBox();if(i||!o||"ArrowUp"!==t.key&&"ArrowDown"!==t.key&&"ArrowLeft"!==t.key&&"ArrowRight"!==t.key)return;t.stopPropagation(),t.preventDefault();let m=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?e.nudgeStepLarge:t.shiftKey?e.nudgeStepMedium:e.nudgeStep,v=u(function(e,t,n,r){let o={...e};return"ArrowLeft"===t?"nw"===r?(o.x-=n,o.y-=n,o.width+=n,o.height+=n):"w"===r?(o.x-=n,o.width+=n):"sw"===r?(o.x-=n,o.width+=n,o.height+=n):"ne"===r?(o.y+=n,o.width-=n,o.height-=n):"e"===r?o.width-=n:"se"===r&&(o.width-=n,o.height-=n):"ArrowRight"===t&&("nw"===r?(o.x+=n,o.y+=n,o.width-=n,o.height-=n):"w"===r?(o.x+=n,o.width-=n):"sw"===r?(o.x+=n,o.width-=n,o.height-=n):"ne"===r?(o.y-=n,o.width+=n,o.height+=n):"e"===r?o.width+=n:"se"===r&&(o.width+=n,o.height+=n)),"ArrowUp"===t?"nw"===r?(o.x-=n,o.y-=n,o.width+=n,o.height+=n):"n"===r?(o.y-=n,o.height+=n):"ne"===r?(o.y-=n,o.width+=n,o.height+=n):"sw"===r?(o.x+=n,o.width-=n,o.height-=n):"s"===r?o.height-=n:"se"===r&&(o.width-=n,o.height-=n):"ArrowDown"===t&&("nw"===r?(o.x+=n,o.y+=n,o.width-=n,o.height-=n):"n"===r?(o.y+=n,o.height-=n):"ne"===r?(o.y+=n,o.width-=n,o.height-=n):"sw"===r?(o.x-=n,o.width+=n,o.height+=n):"s"===r?o.height+=n:"se"===r&&(o.width+=n,o.height+=n)),o}(c(o,w.width,w.height),t.key,m,n),r,n,w.width,w.height,a,l,h,p);if(!s(o,v)){let e=d(v,w.width,w.height);f(v,e),g&&g(v,e)}},this.onDocPointerDone=e=>{let{crop:t,disabled:n,onComplete:r,onDragEnd:o}=this.props,i=this.getBox();this.unbindDocMove(),!(n||!t)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,o&&o(e),r&&r(c(t,i.width,i.height),d(t,i.width,i.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))},this.onDragFocus=()=>{var e;null==(e=this.componentRef.current)||e.scrollTo(0,0)}}get document(){return document}getBox(){let e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};let{x:t,y:n,width:r,height:o}=e.getBoundingClientRect();return{x:t,y:n,width:r,height:o}}componentDidUpdate(e){let{crop:t,onComplete:n}=this.props;if(n&&!e.crop&&t){let{width:e,height:r}=this.getBox();e&&r&&n(c(t,e,r),d(t,e,r))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,p),this.document.addEventListener("pointerup",this.onDocPointerDone,p),this.document.addEventListener("pointercancel",this.onDocPointerDone,p),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,p),this.document.removeEventListener("pointerup",this.onDocPointerDone,p),this.document.removeEventListener("pointercancel",this.onDocPointerDone,p),this.docMoveBound=!1)}getCropStyle(){let{crop:e}=this.props;if(e)return{top:`${e.y}${e.unit}`,left:`${e.x}${e.unit}`,width:`${e.width}${e.unit}`,height:`${e.height}${e.unit}`}}dragCrop(){let{evData:e}=this,t=this.getBox(),n=this.makePixelCrop(t),r=e.clientX-e.startClientX,o=e.clientY-e.startClientY;return n.x=i(e.startCropX+r,0,t.width-n.width),n.y=i(e.startCropY+o,0,t.height-n.height),n}getPointRegion(e,t,n,r){let o;let{evData:i}=this,a=i.clientX-e.x,s=i.clientY-e.y;return o=r&&t?"nw"===t||"n"===t||"ne"===t:s<i.startCropY,(n&&t?"nw"===t||"w"===t||"sw"===t:a<i.startCropX)?o?"nw":"sw":o?"ne":"se"}resolveMinDimensions(e,t,n=0,r=0){let o=Math.min(n,e.width),i=Math.min(r,e.height);return t&&(o||i)?t>1?o?[o,o/t]:[i*t,i]:i?[i*t,i]:[o,o/t]:[o,i]}resizeCrop(){let{evData:t}=this,{aspect:n=0,maxWidth:r,maxHeight:o}=this.props,a=this.getBox(),[s,l]=this.resolveMinDimensions(a,n,this.props.minWidth,this.props.minHeight),h=this.makePixelCrop(a),d=this.getPointRegion(a,t.ord,s,l),c=t.ord||d,p=t.clientX-t.startClientX,f=t.clientY-t.startClientY;(s&&"nw"===c||"w"===c||"sw"===c)&&(p=Math.min(p,-s)),(l&&"nw"===c||"n"===c||"ne"===c)&&(f=Math.min(f,-l));let g={unit:"px",x:0,y:0,width:0,height:0};"ne"===d?(g.x=t.startCropX,g.width=p,n?g.height=g.width/n:g.height=Math.abs(f),g.y=t.startCropY-g.height):"se"===d?(g.x=t.startCropX,g.y=t.startCropY,g.width=p,n?g.height=g.width/n:g.height=f):"sw"===d?(g.x=t.startCropX+p,g.y=t.startCropY,g.width=Math.abs(p),n?g.height=g.width/n:g.height=f):"nw"===d&&(g.x=t.startCropX+p,g.width=Math.abs(p),n?(g.height=g.width/n,g.y=t.startCropY-g.height):(g.height=Math.abs(f),g.y=t.startCropY+f));let w=u(g,n,d,a.width,a.height,s,l,r,o);return n||e.xyOrds.indexOf(c)>-1?h=w:e.xOrds.indexOf(c)>-1?(h.x=w.x,h.width=w.width):e.yOrds.indexOf(c)>-1&&(h.y=w.y,h.height=w.height),h.x=i(h.x,0,a.width-h.width),h.y=i(h.y,0,a.height-h.height),h}renderCropSelection(){let{ariaLabels:t=e.defaultProps.ariaLabels,disabled:n,locked:o,renderSelectionAddon:i,ruleOfThirds:a,crop:s}=this.props,l=this.getCropStyle();if(s)return r.createElement("div",{style:l,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":t.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!n&&!o&&r.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},r.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),r.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),r.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),r.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),r.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":t.nwDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"nw"),role:"button"}),r.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":t.nDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"n"),role:"button"}),r.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":t.neDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"ne"),role:"button"}),r.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":t.eDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"e"),role:"button"}),r.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":t.seDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"se"),role:"button"}),r.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":t.sDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"s"),role:"button"}),r.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":t.swDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"sw"),role:"button"}),r.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":t.wDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"w"),role:"button"})),i&&r.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:e=>e.stopPropagation()},i(this.state)),a&&r.createElement(r.Fragment,null,r.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),r.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(e){return c({...o,...this.props.crop||{}},e.width,e.height)}render(){let{aspect:e,children:t,circularCrop:n,className:o,crop:i,disabled:s,locked:l,style:h,ruleOfThirds:d}=this.props,{cropIsActive:c,newCropIsBeingDrawn:u}=this.state,p=i?this.renderCropSelection():null,f=a("ReactCrop",o,c&&"ReactCrop--active",s&&"ReactCrop--disabled",l&&"ReactCrop--locked",u&&"ReactCrop--new-crop",i&&e&&"ReactCrop--fixed-aspect",i&&n&&"ReactCrop--circular-crop",i&&d&&"ReactCrop--rule-of-thirds",!this.dragStarted&&i&&!i.width&&!i.height&&"ReactCrop--invisible-crop",n&&"ReactCrop--no-animate");return r.createElement("div",{ref:this.componentRef,className:f,style:h},r.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},t),i?r.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},r.createElement("defs",null,r.createElement("mask",{id:`hole-${this.instanceId}`},r.createElement("rect",{width:"100%",height:"100%",fill:"white"}),n?r.createElement("ellipse",{cx:`${i.x+i.width/2}${i.unit}`,cy:`${i.y+i.height/2}${i.unit}`,rx:`${i.width/2}${i.unit}`,ry:`${i.height/2}${i.unit}`,fill:"black"}):r.createElement("rect",{x:`${i.x}${i.unit}`,y:`${i.y}${i.unit}`,width:`${i.width}${i.unit}`,height:`${i.height}${i.unit}`,fill:"black"}))),r.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,p)}};g.xOrds=["e","w"],g.yOrds=["n","s"],g.xyOrds=["nw","ne","se","sw"],g.nudgeStep=1,g.nudgeStepMedium=10,g.nudgeStepLarge=100,g.defaultProps={ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}};let w=g}}]);